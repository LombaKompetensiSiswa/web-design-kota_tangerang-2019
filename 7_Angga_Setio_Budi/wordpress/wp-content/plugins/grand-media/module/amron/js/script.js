var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(l,v,r){l!=Array.prototype&&l!=Object.prototype&&(l[v]=r.value)};$jscomp.getGlobal=function(l){return"undefined"!=typeof window&&window===l?l:"undefined"!=typeof global&&null!=global?global:l};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(l,v,r,u){if(v){r=$jscomp.global;l=l.split(".");for(u=0;u<l.length-1;u++){var c=l[u];c in r||(r[c]={});r=r[c]}l=l[l.length-1];u=r[l];v=v(u);v!=u&&null!=v&&$jscomp.defineProperty(r,l,{configurable:!0,writable:!0,value:v})}};
$jscomp.polyfill("Math.hypot",function(l){return l?l:function(l,r,u){l=Number(l);r=Number(r);var c,q=Math.max(Math.abs(l),Math.abs(r));for(c=2;c<arguments.length;c++)q=Math.max(q,Math.abs(arguments[c]));if(1E100<q||1E-100>q){if(!q)return q;l/=q;r/=q;var v=l*l+r*r;for(c=2;c<arguments.length;c++){var B=Number(arguments[c])/q;v+=B*B}return Math.sqrt(v)*q}v=l*l+r*r;for(c=2;c<arguments.length;c++)B=Number(arguments[c]),v+=B*B;return Math.sqrt(v)}},"es6","es3");
function amron_module(){function l(a){var b=document.webkitIsFullScreen||document.mozFullScreen||!1;a.requestFullScreen=a.requestFullScreen||a.webkitRequestFullScreen||a.mozRequestFullScreen||function(){return!1};document.cancelFullScreen=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||function(){return!1};b?document.cancelFullScreen():a.requestFullScreen()}function v(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveListener",
null,b)}catch(e){}return a}function r(){this._listenerSet={}}function u(a,b,e){this.type=a;this.params=e;this.target=b}function c(a){return window[a]&&window[a].settings?window[a].settings:null}function q(){return navigator.maxTouchPoints||"ontouchstart"in window}function R(a){a=new Date(1E3*a);var b=new Date,e=new Date(Date.now()-864E5),d=a.getFullYear(),f="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")[a.getMonth()],c=a.getDate(),h=a.getHours(),k=a.getMinutes();return a.setHours(0,
0,0,0)==b.setHours(0,0,0,0)?"Today, "+h+":"+k:a.setHours(0,0,0,0)==e.setHours(0,0,0,0)?"Yesterday, "+h+":"+k:d==b.getFullYear()?c+" "+f+", "+d:c+" "+f+" "+d}function B(a){for(var b=99999,e=0;e<a.childNodes.length;e++){var d=a.childNodes[e];if(1==d.nodeType&&"SCRIPT"!=d.nodeName)var f=document.defaultView.getComputedStyle(d,null).getPropertyValue("z-index");f>b&&"auto"!=f&&(b=parseInt(f))}return b}function S(a,b,e){function d(){var g=(new Date).getTime()-c,k=g/e;1>k?(k=1-f(k),a.style.opacity=String(k),
setTimeout(d,Math.min(25,e-g))):(a.style.opacity="0",b&&b())}e||(e=500);var f=Math.sqrt,c=(new Date).getTime();d()}function L(a){var b=0,e=document.createElement("div");e.className="gmedia_amron_Preloader";var d=document.createElement("div");d.style.position="absolute";d.style.width="8px";d.style.height="8px";d.style.margin="-4px";d.style.left="50%";d.style.top="50%";d.style.borderRadius="50%";d.style.backgroundColor=a;e.appendChild(d);d=document.createElement("div");d.className="c-spinner";d.style.position=
"absolute";d.style.width="36px";d.style.height="36px";d.style.margin="-18px";d.style.left="50%";d.style.top="50%";for(var f=0;8>f;f++){var c=document.createElement("div");c.style.position="absolute";c.style.top="50%";c.style.left="50%";c.style.marginTop="-4px";c.style.marginLeft="-4px";c.style.width="8px";c.style.height="8px";c.style.backgroundColor=a;c.style.borderRadius="100%";c.style.transform="rotate("+b+"deg) translate(18px)";b+=45;d.appendChild(c)}e.appendChild(d);return e}function F(a,b,e,
d){this.x=a;this.y=b;this.width=e;this.height=d}function w(a,b){this.width=a;this.height=b}function p(a,b){this.x=a;this.y=b}function T(a){if(1==arguments.length)console.log(a);else{for(var b="",e=0;e<arguments.length;e++)b+=arguments[e]+", ";b=b.slice(0,-2);console.log(b)}}function U(){window.addEventListener&&(window.addEventListener("DOMMouseScroll",C,!1),window.addEventListener("touchmove",C,z));window.onwheel=C;window.onmousewheel=document.onmousewheel=C;document.onkeydown=da}function V(){window.removeEventListener&&
(window.removeEventListener("DOMMouseScroll",C,!1),window.removeEventListener("touchmove",C,z));window.onmousewheel=document.onmousewheel=null;window.onwheel=null;document.onkeydown=null}function da(a){if({37:1,38:1,39:1,40:1}[a.keyCode])return C(a),!1}function C(a){a=a||window.event;a.preventDefault&&a.preventDefault();a.returnValue=!1}function t(a,b){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,b,f,c){return b+b+f+f+c+c});return(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?
"rgba("+parseInt(a[1],16)+","+parseInt(a[2],16)+","+parseInt(a[3],16)+","+b+")":null}function G(a,b){for(var e in a)b[e]=a[e]}function ea(a,b){var e=window.pageYOffset,d=Math.PI/(b/15),f=e/2,c=0,h,k=setInterval(function(){window.pageYOffset>a?(c+=1,h=f-f*Math.cos(c*d),window.scrollTo(0,e-h)):clearInterval(k)},15)}function M(a,b){G(a,this);this.appName=b;this.idPrefix=void 0;this.webImg=new Image;this.webImgFrame=new F(0,0,0,0);this.webImg.addEventListener("load",function(){this.classList.add("onLoad")},
!1);if(this.link&&""!=this.link){a=this.link;var e;a.match(/youtu\.be/i)||a.match(/youtube\.com/i)?(b=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&\?]*).*/,(a=a.match(b))&&11==a[7].length&&(e=a[7]),void 0!==e&&(this.mime_type="video/youtube",this.videoId=e,this.link=void 0)):a.match(/vimeo\.com/i)&&(b=/(www\.)?vimeo.com\/(\d+)($|\/)/,(a=a.match(b))&&(e=a[2]),void 0!==e&&(this.mime_type="video/vimeo",this.videoId=e,this.link=void 0))}"audio/mpeg"==this.mime_type&&(this.type=
"audio");"image"==this.mime_type.split("/")[0]&&(this.type="image");"video"==this.mime_type.split("/")[0]&&(this.type="video")}function E(a,b){G(a,this);this.appName=b;this.key=this.listIndex=void 0;this.meta&&(this.meta=new W(this.meta,this.appName));"gmedia_tag"==this.taxonomy&&(this.name="#"+this.name);"myCollection"==this.taxonomy&&this._query&&(this.sharelink=c(b).post_url+"/?"+c(b).galleryID+"[gmedia__in]="+this._query.gmedia__in)}function W(a,b){G(a,this);this.appName=b;this._cover&&(this._cover=
new M(a._cover,this.appName))}function H(a,b,e,d){var f=new XMLHttpRequest;f.open("POST",c(b.appName).appApi,!0);f.onreadystatechange=function(){4==this.readyState&&(200!=this.status?e&&c(b.appName).appEventManager.dispatchGMEvent(new u(e,b,{error:this.statusText,params:d})):e&&c(b.appName).appEventManager.dispatchGMEvent(new u(e,b,{data:this.responseText,params:d})))};f.onerror=function(f){1==confirm("Failed to load resource: The network connection was lost. Let's try again?")&&H(a,b,e,d)};try{f.send(a),
c(b.appName).appEventManager.dispatchGMEvent(new u(n.REQUEST_START,b,null))}catch(g){T(g)}}function fa(a,b,e){this.appName=a;a=document.createElement("div");a.className="gmedia_amron_ItemInfoBar";a.style.backgroundColor=c(this.appName).modalInfoBoxBgColor;if(!q()||q()&&I){var d=document.createElement("div");d.className="gmInfoBarCloseButton";d.innerHTML='<svg height="512px" id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M437.5,386.6L306.9,256l130.6-130.6c14.1-14.1,14.1-36.8,0-50.9c-14.1-14.1-36.8-14.1-50.9,0L256,205.1L125.4,74.5  c-14.1-14.1-36.8-14.1-50.9,0c-14.1,14.1-14.1,36.8,0,50.9L205.1,256L74.5,386.6c-14.1,14.1-14.1,36.8,0,50.9  c14.1,14.1,36.8,14.1,50.9,0L256,306.9l130.6,130.6c14.1,14.1,36.8,14.1,50.9,0C451.5,423.4,451.5,400.6,437.5,386.6z"/></svg>';
d.childNodes[0].style.fill=t(c(this.appName).modalInfoBoxTitleTextColor,1);d.addEventListener("click",function(){b.prepareToRemove()},!1);a.appendChild(d)}var f='<span class="gmItemTitle" style="color: '+c(this.appName).modalInfoBoxTitleTextColor+'">'+e.title+"<br>";f=e.description&&""!=e.description?f+('<span class="gmItemDescription" style="color: '+c(this.appName).modalInfoBoxTextColor+'">'+e.description+"</span></span>"):f+"</span>";""!=f&&(d=document.createElement("div"),d.className="gmDescriptionWrap",
d.style.float="none",d.innerHTML=f,a.appendChild(d));c(this.appName).infoBarCountersEnable&&(d=document.createElement("div"),d.className="gmDescriptionWrap",d.style.color=t(c(this.appName).modalInfoBoxTextColor,1),d.style.fontSize="100%",f=document.createElement("div"),f.className="likesViewCom",f.innerHTML='<svg enable-background="new 0 0 167 93" height="93px" id="Layer_1" version="1.1" viewBox="0 0 167 93" width="167px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M83.25,29.25c-9.649,0-17.5,7.851-17.5,17.5s7.851,17.5,17.5,17.5s17.5-7.851,17.5-17.5   S92.899,29.25,83.25,29.25z"/><path d="M83.25,0.75c-45.84,0-83,46-83,46s37.16,46,83,46s83-46,83-46S129.09,0.75,83.25,0.75z M83.25,81.25   c-19.054,0-34.5-15.445-34.5-34.5c0-19.054,15.446-34.5,34.5-34.5s34.5,15.446,34.5,34.5C117.75,65.805,102.304,81.25,83.25,81.25z   "/></g></svg><div class="counterTxt">'+
(e.meta.views?e.meta.views:0)+"</div>",f.getElementsByTagName("svg")[0].style.fill=t(c(this.appName).modalInfoBoxTitleTextColor,1),d.appendChild(f),f=document.createElement("div"),f.className="likesViewCom",f.innerHTML='<svg enable-background="new 0 0 51 46" height="46px" id="Layer_1" version="1.1" viewBox="0 0 51 46" width="51px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M46.188,4.101c-5.529-5.53-14.495-5.53-20.023,0L25.39,4.875l-0.996-0.774c-5.529-5.53-14.715-5.53-20.245,0  C-1.38,9.63-1.27,18.595,4.26,24.125l18.753,18.643c0.671,0.671,1.4,1.258,2.376,1.766c0.76-0.508,1.483-1.095,2.155-1.766  l18.643-18.643C51.717,18.595,51.717,9.63,46.188,4.101z""/></svg><div class="counterTxt">'+
(e.meta.likes?e.meta.likes:0)+"</div>",f.getElementsByTagName("svg")[0].style.fill=t(c(this.appName).modalInfoBoxTitleTextColor,1),d.appendChild(f),f=document.createElement("div"),f.className="likesViewCom",f.innerHTML='<svg style="enable-background:new 0 0 24 24;" version="1.1" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="info"/><g id="icons"><path d="M20,1H4C1.8,1,0,2.8,0,5v10c0,2.2,1.8,4,4,4v3c0,0.9,1.1,1.3,1.7,0.7L9.4,19H20c2.2,0,4-1.8,4-4V5   C24,2.8,22.2,1,20,1z M14,13H8c-0.6,0-1-0.4-1-1c0-0.6,0.4-1,1-1h6c0.6,0,1,0.4,1,1C15,12.6,14.6,13,14,13z M16,9H8   C7.4,9,7,8.6,7,8c0-0.6,0.4-1,1-1h8c0.6,0,1,0.4,1,1C17,8.6,16.6,9,16,9z" id="message"/></g></svg><div class="counterTxt">'+
(e.comment_count?e.comment_count:0)+"</div>",f.getElementsByTagName("svg")[0].style.fill=t(c(this.appName).modalInfoBoxTitleTextColor,1),d.appendChild(f),a.appendChild(d));if(c(this.appName).infoBarDateInfoEnable){d=document.createElement("div");d.className="gmDescriptionWrap";d.style.color=t(c(this.appName).modalInfoBoxTextColor,1);d.style.fontSize="100%";f="";var g='<span class="gmItemMetaKey">Upload: </span><span class="gmItemMetaValue">'+R(e.date)+"</span></br>";f+=g;e.meta.data&&e.meta.data.created_timestamp&&
(e='<span class="gmItemMetaKey">Taken: </span><span class="gmItemMetaValue">'+R(e.meta.data.created_timestamp)+"</span>",f+=e);d.innerHTML='<div class="gmItemsDate">'+f+"</div>";""!=f&&a.appendChild(d)}return a}function ha(a,b,e,d){function f(a){if(!b.dragging){a=this.getAttribute("type");var f="menubar=no,toolbar=no,resizable=yes,scrollbars=yes, top=200, left="+(screen.width-600)/2+", height=450,width=600";switch(a){case "copy":k&&window.open(d,"_blank");a=document.getElementById("gmSH_title_copy");
f=this.getElementsByClassName("gmItemCopyLink")[0].getElementsByTagName("svg")[0];window.getSelection().selectAllChildren(a);try{document.execCommand("copy"),window.getSelection().removeAllRanges(),f.style.fill="green",a.style.color="green",k=!0}catch(ia){window.open(d,"_blank")}break;case "google":window.open("https://plus.google.com/share?url="+d,"",f);break;case "facebook":window.open("https://www.facebook.com/share.php?u="+d,"",f);break;case "twitter":window.open("https://twitter.com/intent/tweet?text="+
encodeURI(e.title)+"&url="+d,"",f);break;case "pinterest":window.open("http://www.pinterest.com/pin/create/button/?url="+d+"&media="+e.url+"&description="+encodeURI(e.title),"",f)}}}this.appName=a;a=document.createElement("div");a.className="gmedia_amron_ItemShare";a.style.backgroundColor=c(this.appName).modalInfoBoxBgColor;if(!q()||q()&&I){var g=document.createElement("div");g.className="gmInfoBarCloseButton";g.innerHTML='<svg height="512px" id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M437.5,386.6L306.9,256l130.6-130.6c14.1-14.1,14.1-36.8,0-50.9c-14.1-14.1-36.8-14.1-50.9,0L256,205.1L125.4,74.5  c-14.1-14.1-36.8-14.1-50.9,0c-14.1,14.1-14.1,36.8,0,50.9L205.1,256L74.5,386.6c-14.1,14.1-14.1,36.8,0,50.9  c14.1,14.1,36.8,14.1,50.9,0L256,306.9l130.6,130.6c14.1,14.1,36.8,14.1,50.9,0C451.5,423.4,451.5,400.6,437.5,386.6z"/></svg>';
g.childNodes[0].style.fill=t(c(this.appName).modalInfoBoxTitleTextColor,1);g.addEventListener("click",function(){b.prepareToRemove()},!1);a.appendChild(g)}var h='<span class="gmItemTitle" style="color: '+c(this.appName).modalInfoBoxTitleTextColor+'">'+c(this.appName).shareTitlePlaceHolder+"<br>";h=e.title&&""!=e.title?h+('<span class="gmItemDescription" style="color: '+c(this.appName).modalInfoBoxTextColor+'">'+e.title+"</span></span>"):h+"</span>";""!=h&&(g=document.createElement("div"),g.className=
"gmDescriptionWrap",g.style.float="none",g.innerHTML=h,a.appendChild(g));g=document.createElement("div");g.className="gmDescriptionWrap";g.style.float="none";g.style.padding="0px 20px";a.appendChild(g);var k=!1;h=document.createElement("div");h.setAttribute("type","facebook");h.className="gmItemShareButtonWrap";var m=document.createElement("div");m.className="gmItemShareButton";m.innerHTML='<svg version="1.1" viewBox="0 0 32 32" width="32" height="32" aria-hidden="false"><path d="M27.6 3h-23.2c-.8 0-1.4.6-1.4 1.4v23.1c0 .9.6 1.5 1.4 1.5h12.5v-10.1h-3.4v-3.9h3.4v-2.9c0-3.4 2.1-5.2 5-5.2 1.4 0 2.7.1 3 .2v3.5h-2.1c-1.6 0-1.9.8-1.9 1.9v2.5h3.9l-.5 3.9h-3.4v10.1h6.6c.8 0 1.4-.6 1.4-1.4v-23.2c.1-.8-.5-1.4-1.3-1.4z"></path></svg><div class="gmSH_title" style="color: #3b5998">Facebook</div>';
m.getElementsByTagName("svg")[0].style.fill="#3b5998";h.appendChild(m);h.addEventListener("mouseup",f,!1);q()&&h.addEventListener("touchend",f,!1);g.appendChild(h);h=document.createElement("div");h.setAttribute("type","twitter");h.className="gmItemShareButtonWrap";m=document.createElement("div");m.className="gmItemShareButton";m.innerHTML='<svg version="1.1" viewBox="0 0 32 32" width="32" height="32" aria-hidden="false"><path d="M30 7.3c-1 .5-2.1.8-3.3.9 1.2-.7 2.1-1.8 2.5-3.2-1.1.7-2.3 1.1-3.6 1.4-1-1.1-2.5-1.8-4.2-1.8-3.2 0-5.7 2.6-5.7 5.7 0 .5.1.9.1 1.3-4.8-.2-9-2.5-11.8-6-.5.9-.8 1.9-.8 3 0 2 1 3.8 2.6 4.8-.9 0-1.8-.3-2.6-.7v.1c0 2.8 2 5.1 4.6 5.6-.5.1-1 .2-1.5.2-.4 0-.7 0-1.1-.1.7 2.3 2.9 3.9 5.4 4-2 1.5-4.4 2.5-7.1 2.5-.5 0-.9 0-1.4-.1 2.5 1.6 5.6 2.6 8.8 2.6 10.6 0 16.3-8.8 16.3-16.3v-.7c1.1-1 2-2 2.8-3.2z"></path></svg><div class="gmSH_title" style="color: #00aced">Twitter</div>';
m.getElementsByTagName("svg")[0].style.fill="#00aced";h.appendChild(m);h.addEventListener("mouseup",f,!1);q()&&h.addEventListener("touchend",f,!1);g.appendChild(h);h=document.createElement("div");h.setAttribute("type","pinterest");h.className="gmItemShareButtonWrap";m=document.createElement("div");m.className="gmItemShareButton";m.innerHTML='<svg version="1.1" viewBox="0 0 32 32" width="32" height="32" aria-hidden="false"><path d="M16 3c-7.2 0-13 5.8-13 13 0 5.5 3.4 10.2 8.3 12.1-.1-1-.2-2.6 0-3.7.2-1 1.5-6.5 1.5-6.5s-.4-.8-.4-1.9c0-1.8 1-3.2 2.4-3.2 1.1 0 1.6.8 1.6 1.8 0 1.1-.7 2.8-1.1 4.3-.3 1.3.6 2.3 1.9 2.3 2.3 0 4.1-2.4 4.1-6 0-3.1-2.2-5.3-5.4-5.3-3.7 0-5.9 2.8-5.9 5.6 0 1.1.4 2.3 1 3 .1.1.1.2.1.4-.1.4-.3 1.3-.4 1.5-.1.2-.2.3-.4.2-1.6-.8-2.6-3.1-2.6-5 0-4.1 3-7.9 8.6-7.9 4.5 0 8 3.2 8 7.5 0 4.5-2.8 8.1-6.7 8.1-1.3 0-2.6-.7-3-1.5 0 0-.7 2.5-.8 3.1-.3 1.1-1.1 2.5-1.6 3.4 1.2.4 2.5.6 3.8.6 7.2 0 13-5.8 13-13 0-7.1-5.8-12.9-13-12.9z"></path></svg><div class="gmSH_title" style="color: #cc2127">Pinterest</div>';
m.getElementsByTagName("svg")[0].style.fill="#cc2127";h.appendChild(m);h.addEventListener("mouseup",f,!1);q()&&h.addEventListener("touchend",f,!1);g.appendChild(h);h=document.createElement("div");h.setAttribute("type","google");h.className="gmItemShareButtonWrap";m=document.createElement("div");m.className="gmItemShareButton";m.innerHTML='<svg enable-background="new 0 0 56.693 56.693" height="56.693px" id="Layer_1" version="1.1" viewBox="0 0 56.693 56.693" width="56.693px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M52.218,25.852h-7.512v-7.51c0-0.573-0.465-1.039-1.037-1.039H41.53c-0.576,0-1.041,0.466-1.041,1.039v7.51h-7.512   c-0.572,0-1.039,0.467-1.039,1.041v2.139c0,0.574,0.467,1.039,1.039,1.039h7.512v7.514c0,0.574,0.465,1.039,1.041,1.039h2.139   c0.572,0,1.037-0.465,1.037-1.039V30.07h7.512c0.572,0,1.039-0.465,1.039-1.039v-2.139C53.257,26.318,52.79,25.852,52.218,25.852z"/><path d="M26.974,32.438c-1.58-1.119-3.016-2.76-3.041-3.264c0-0.918,0.082-1.357,2.141-2.961c2.662-2.084,4.128-4.824,4.128-7.719   c0-2.625-0.802-4.957-2.167-6.595h1.059c0.219,0,0.434-0.068,0.609-0.196l2.955-2.141c0.367-0.263,0.521-0.732,0.381-1.161   c-0.141-0.428-0.537-0.72-0.988-0.72H18.835c-1.446,0-2.915,0.255-4.357,0.751c-4.816,1.661-8.184,5.765-8.184,9.978   c0,5.969,4.624,10.493,10.805,10.635c-0.121,0.473-0.182,0.939-0.182,1.396c0,0.92,0.233,1.791,0.713,2.633c-0.056,0-0.11,0-0.17,0   c-5.892,0-11.21,2.891-13.229,7.193c-0.526,1.119-0.794,2.25-0.794,3.367c0,1.086,0.279,2.131,0.826,3.113   c1.269,2.27,3.994,4.031,7.677,4.961c1.901,0.48,3.944,0.725,6.065,0.725c1.906,0,3.723-0.246,5.403-0.732   c5.238-1.521,8.625-5.377,8.625-9.828C32.032,37.602,30.659,35.045,26.974,32.438z M10.283,42.215c0-3.107,3.947-5.832,8.446-5.832   h0.121c0.979,0.012,1.934,0.156,2.834,0.432c0.309,0.213,0.607,0.416,0.893,0.611c2.084,1.42,3.461,2.357,3.844,3.861   c0.09,0.379,0.135,0.758,0.135,1.125c0,3.869-2.885,5.83-8.578,5.83C13.663,48.242,10.283,45.596,10.283,42.215z M14.377,12.858   c0.703-0.803,1.624-1.227,2.658-1.227l0.117,0.002c2.921,0.086,5.716,3.341,6.23,7.256c0.289,2.192-0.199,4.253-1.301,5.509   c-0.705,0.805-1.613,1.229-2.689,1.229c0,0,0,0-0.002,0h-0.047c-2.861-0.088-5.716-3.467-6.227-7.377   C12.829,16.064,13.289,14.099,14.377,12.858z"/></g></svg><div class="gmSH_title" style="color: #d64a2d">Google+</div>';
m.getElementsByTagName("svg")[0].style.fill="#d64a2d";h.appendChild(m);h.addEventListener("mouseup",f,!1);q()&&h.addEventListener("touchend",f,!1);g.appendChild(h);h=document.createElement("div");h.setAttribute("type","copy");h.className="gmItemShareButtonWrap";h.style.width="100%";m=document.createElement("div");m.className="gmItemCopyLink";m.innerHTML='<svg height="1792" viewBox="0 0 1792 1792" width="1792" xmlns="http://www.w3.org/2000/svg"><path d="M1520 1216q0-40-28-68l-208-208q-28-28-68-28-42 0-72 32 3 3 19 18.5t21.5 21.5 15 19 13 25.5 3.5 27.5q0 40-28 68t-68 28q-15 0-27.5-3.5t-25.5-13-19-15-21.5-21.5-18.5-19q-33 31-33 73 0 40 28 68l206 207q27 27 68 27 40 0 68-26l147-146q28-28 28-67zm-703-705q0-40-28-68l-206-207q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l208 208q27 27 68 27 42 0 72-31-3-3-19-18.5t-21.5-21.5-15-19-13-25.5-3.5-27.5q0-40 28-68t68-28q15 0 27.5 3.5t25.5 13 19 15 21.5 21.5 18.5 19q33-31 33-73zm895 705q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-206-207q-83-83-83-203 0-123 88-209l-88-88q-86 88-208 88-120 0-204-84l-208-208q-84-84-84-204t85-203l147-146q83-83 203-83 121 0 204 85l206 207q83 83 83 203 0 123-88 209l88 88q86-88 208-88 120 0 204 84l208 208q84 84 84 204z"/></svg><div id="gmSH_title_copy" class="gmSH_title" style="color: #7d7d7d">'+
d+"</div>";m.getElementsByTagName("svg")[0].style.fill="#7d7d7d";h.appendChild(m);h.addEventListener("mouseup",f,!1);q()&&h.addEventListener("touchend",f,!1);g.appendChild(h);a.appendChild(g);return a}function N(a){var b=this;this.type=void 0;this.delegate=a;this.appName=a.appName;this.view=document.createElement("div");this.view.className="gmedia_amron_Modal";this.closeButton=document.createElement("div");this.closeButton.style.position="absolute";this.closeButton.style.zIndex=-100;this.closeButton.className=
"gmModalCloseButton";this.closeButton.style.width="100%";this.closeButton.style.height="100%";this.closeButton.style.backgroundColor=c(this.appName).modaBgColor;this.closeButton.style.willChange="opacity";this.closeButton.style.opacity=c(this.appName).modalBgAlpha;this.closeButton.addEventListener("click",function(a){b.prepareToRemove(a)},!1);this.view.appendChild(this.closeButton);a=document.createElement("div");a.className="gmflexe";this.view.appendChild(a);this.scrollView=void 0;this.dragging=
!1;this._scrollViewTranslateY=0;this.startDragHandler=void 0;this.viewCompleted=!1;this.addToStage()}function O(a){function b(a){switch(a.type){case "mouseenter":e.selector.style.opacity="1";break;case "mouseleave":e._selected||(e.selector.style.opacity="0")}}var e=this;this.delegate=a;this.appName=a.appName;this.item=void 0;this.view=document.createElement("div");this.view.className="gmedia_amron_ScrollBarItem";A&&this.view.classList.add("miniScreen");this.bgImg=document.createElement("div");this.bgImg.className=
"gmedia_amron_ScrollBarItemBg";this.view.appendChild(this.bgImg);this.imgSRC=void 0;this.selector=document.createElement("div");this.selector.className="gmedia_amron_ScrollBarItemHover";this.selector.style.borderColor=c(this.appName).sliderThumbBarHoverColor;this.view.appendChild(this.selector);this._selected=!1;this.view.addEventListener("mouseenter",b,!1);this.view.addEventListener("mouseleave",b,!1)}function X(a){this.delegate=a;this.appName=a.appName;this.itemsList=[];this.thumbSize=new w(100,
80);this.view=document.createElement("div");this.view.className="gmedia_amron_TermScrollBarWrap";A&&this.view.classList.add("miniScreen");this.scrollView=document.createElement("div");this.scrollView.className="gmedia_amron_ScrollView";this.scrollView.style.width="0px";this.view.appendChild(this.scrollView);this.thumbsList=[];this._scrollWidth=this.itemsInStageCount=0;this.dragging=this.viewCompleted=!1;this.scrollViewTranslateX=0;this.activAudioIndex=this.activIndex=this.startDragHandler=void 0}
function Y(a){this.delegate=a;this.id=this.item=void 0;this.appName=a.appName;this.itemIndex=void 0;this.positionIndex=0;this.view=document.createElement("div");this.view.className="gmedia_amron_SliderPage";this.itemInner=document.createElement("div");this.itemInner.className="gmedia_sliderPage_inner";this.view.appendChild(this.itemInner);this.iconHolder=document.createElement("div");this.iconHolder.className="gmedia_iconHolder";this.preloader=L(t(c(this.appName).sliderPreloaderColor,1));this.preloader.style.display=
"none";this.view.appendChild(this.preloader);this.view.appendChild(this.iconHolder);this.size=new w(0,0);this.imgSize=new w(0,0);this._imageFrame=new F(0,0,0,0);this.maxYoffset=this.maxXoffset=this.height=this.width=0;this.MaxScale=4;this.newScaleMW=this.newScale=this.scale=this.imgScale=1;this._viewTranslate=new p(0,0);this.origin=new p(0,0);this.animaSliderRender=this.boundingBoxScale=this.boundingBox=void 0;this.newY=this.oldY=this.newX=this.oldX=this.speedY=this.speedX=0;this.isBlockDragingMem=
this.isBlockDraging=this.draging=!1;this.startDistForZoom=this.startGlobalPoint=this.startScale=void 0}function Z(a){this.delegate=a;this.appName=this.delegate.appName;this.id=this.appName+"sliderAView_";this.itemsList=void 0;this.visibleBounds=new F(0,0,0,0);this.needHideControlls=this.isControllsShow=!1;this.firsrTap=void 0;this.view=document.createElement("div");this.view.className="gmedia_amron_ColectionSlider";D.desktop||(this.view.style.height="100%");this.view.id=this.id+"main";this.resizeDelay=
void 0;this.size=new w(0,0);a=document.createElement("div");a.className="gmSliderBg";a.style.backgroundColor=c(this.appName).sliderBgColor;this.background=a;this.view.appendChild(a);this.sliderPages=[];this.zoomingDrag=this.dragging=!1;this._scrollViewTranslateY=this._scrollViewTranslateX=this.speedY=this.speedX=0;this.currentItemIndex=this.startDragHandler=void 0;this.startItemIndex=0;this.items=[];this.itemsAmount=0;this.animaSliderRender=this.zoomingPage=this.pageInFocusPrev=this.pageInFocus=this._itemNum=
void 0;this.slider=document.createElement("div");this.slider.className="gmedia_amron_SlidesWrap";this.view.appendChild(this.slider);this.footer=document.createElement("div");this.footer.className="gmedia_amron_SlidesFooter";this.footer.style.backgroundImage="linear-gradient(180deg,"+t(c(this.appName).sliderHeaderFooterBgColor,0)+","+t(c(this.appName).sliderHeaderFooterBgColor,1)+")";this.view.appendChild(this.footer);this.header=document.createElement("div");this.header.className="gmedia_amron_SlidesHeader";
this.header.style.backgroundImage="linear-gradient(0deg,"+t(c(this.appName).sliderHeaderFooterBgColor,0)+","+t(c(this.appName).sliderHeaderFooterBgColor,1)+")";A&&this.header.classList.add("gmedia_amron_SlidesHeaderMiniScreen");this.view.appendChild(this.header);this.copyR=this.copyRight();this.createControlls();this.addToStage()}function P(a,b,e){function d(a){"like"==a.getAttribute("type")&&a.getAttribute("like")||("bookmark"==a.getAttribute("type")&&a.getAttribute("bookmark")?a.style.backgroundColor=
g.backgroundColor:(a.style.backgroundColor=g.backgroundColor,a.childNodes[0].style.fill=g.iconColor))}function f(a){if("click"==a.type){if(a=g.item){switch(this.getAttribute("type")){case "info":c(g.appName).appEventManager.dispatchGMEvent(new u(n.NEED_MODAL,g,{type:"info",item:a}));break;case "link":a.link&&window.open(a.link,c(g.appName).linkTargetWindow);break;case "like":d(this);g.delegate.likeItem=g.item;this.setAttribute("like",g.item.ID);this.style.cursor="default";this.style.pointerEvents=
"none";this.getElementsByTagName("svg")[0].style.fill="red";break;case "share":c(g.appName).appEventManager.dispatchGMEvent(new u(n.NEED_MODAL,g,{type:"share",item:a}));break;case "download":a=a.url;var b=document.createElement("A");b.href=a;b.download=a.substr(a.lastIndexOf("/")+1);document.body.appendChild(b);b.click();document.body.removeChild(b);break;case "coments":a=a.sharelink+"/#comments";window.open(a,"_self");break;case "fullscreen":c(g.appName).appEventManager.dispatchGMEvent(new u(n.FULLSCREEN_SWITCH,
g)),d(this)}A&&d(this)}}else"mouseenter"==a.type?"bookmark"==this.getAttribute("type")&&this.getAttribute("bookmark")?this.style.backgroundColor=g.backgroundColorOver:(this.style.backgroundColor=g.backgroundColorOver,this.childNodes[0].style.fill=g.iconColorOver):"mouseleave"==a.type&&d(this)}var g=this;this.delegate=a;this.appName=a.appName;this.item=void 0;this.view=document.createElement("div");this.view.className="gmedia_amron_CollectionItemInfoMenu";this.backgroundColor=b.backgroundColor;this.backgroundColorOver=
b.backgroundColorOver;this.iconColor=b.iconColor;this.iconColorOver=b.iconColorOver;a=void 0;a=document.createElement("div");a.className="itemsButtons";e&&a.classList.add("lightbox");a.setAttribute("type","link");a.innerHTML='<svg height="1792" viewBox="0 0 1792 1792" width="1792" xmlns="http://www.w3.org/2000/svg"><path d="M1520 1216q0-40-28-68l-208-208q-28-28-68-28-42 0-72 32 3 3 19 18.5t21.5 21.5 15 19 13 25.5 3.5 27.5q0 40-28 68t-68 28q-15 0-27.5-3.5t-25.5-13-19-15-21.5-21.5-18.5-19q-33 31-33 73 0 40 28 68l206 207q27 27 68 27 40 0 68-26l147-146q28-28 28-67zm-703-705q0-40-28-68l-206-207q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l208 208q27 27 68 27 42 0 72-31-3-3-19-18.5t-21.5-21.5-15-19-13-25.5-3.5-27.5q0-40 28-68t68-28q15 0 27.5 3.5t25.5 13 19 15 21.5 21.5 18.5 19q33-31 33-73zm895 705q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-206-207q-83-83-83-203 0-123 88-209l-88-88q-86 88-208 88-120 0-204-84l-208-208q-84-84-84-204t85-203l147-146q83-83 203-83 121 0 204 85l206 207q83 83 83 203 0 123-88 209l88 88q86-88 208-88 120 0 204 84l208 208q84 84 84 204z"/></svg>';
a.style.backgroundColor=this.backgroundColor;a.childNodes[0].style.fill=this.iconColor;this.linkButton=a;a.addEventListener("click",f,!1);a.addEventListener("mouseenter",f,!1);a.addEventListener("mouseleave",f,!1);this.view.appendChild(a);e&&c(this.appName).sliderInfoEnable&&(a=document.createElement("div"),a.className="itemsButtons",e&&a.classList.add("lightbox"),a.setAttribute("type","info"),a.innerHTML='<svg height="100px" id="Capa_1" style="enable-background:new 0 0 46 100;" version="1.1" viewBox="0 0 46 100" width="46px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M35.162,0c6.696,0,10.043,4.567,10.043,9.789c0,6.522-5.814,12.555-13.391,12.555c-6.344,0-10.045-3.752-9.869-9.947   C21.945,7.176,26.35,0,35.162,0z M14.543,100c-5.287,0-9.164-3.262-5.463-17.615l6.07-25.457c1.057-4.077,1.23-5.707,0-5.707   c-1.588,0-8.451,2.816-12.51,5.59L0,52.406C12.863,41.48,27.662,35.072,34.004,35.072c5.285,0,6.168,6.361,3.525,16.148   L30.58,77.98c-1.234,4.729-0.703,6.359,0.527,6.359c1.586,0,6.787-1.963,11.896-6.041L46,82.377C33.488,95.1,19.83,100,14.543,100z   "/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>',
a.style.backgroundColor=this.backgroundColor,a.childNodes[0].style.fill=this.iconColor,this.infoButton=a,a.addEventListener("click",f,!1),a.addEventListener("mouseenter",f,!1),a.addEventListener("mouseleave",f,!1),this.view.appendChild(a));e&&c(this.appName).sliderItemDiscuss&&(a=document.createElement("div"),a.className="itemsButtons",e&&a.classList.add("lightbox"),a.setAttribute("type","coments"),a.innerHTML='<svg style="enable-background:new 0 0 24 24;" version="1.1" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="info"/><g id="icons"><path d="M20,1H4C1.8,1,0,2.8,0,5v10c0,2.2,1.8,4,4,4v3c0,0.9,1.1,1.3,1.7,0.7L9.4,19H20c2.2,0,4-1.8,4-4V5   C24,2.8,22.2,1,20,1z M14,13H8c-0.6,0-1-0.4-1-1c0-0.6,0.4-1,1-1h6c0.6,0,1,0.4,1,1C15,12.6,14.6,13,14,13z M16,9H8   C7.4,9,7,8.6,7,8c0-0.6,0.4-1,1-1h8c0.6,0,1,0.4,1,1C17,8.6,16.6,9,16,9z" id="message"/></g></svg>',
a.style.backgroundColor=this.backgroundColor,a.childNodes[0].style.fill=this.iconColor,this.commentsButton=a,a.addEventListener("click",f,!1),a.addEventListener("mouseenter",f,!1),a.addEventListener("mouseleave",f,!1),this.view.appendChild(a));e&&c(this.appName).sliderItemDownload&&(a=document.createElement("div"),a.className="itemsButtons",e&&a.classList.add("lightbox"),a.setAttribute("type","download"),a.innerHTML='<svg version="1.1" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="info"/><g id="icons"><g id="save"><path d="M11.2,16.6c0.4,0.5,1.2,0.5,1.6,0l6-6.3C19.3,9.8,18.8,9,18,9h-4c0,0,0.2-4.6,0-7c-0.1-1.1-0.9-2-2-2c-1.1,0-1.9,0.9-2,2    c-0.2,2.3,0,7,0,7H6c-0.8,0-1.3,0.8-0.8,1.4L11.2,16.6z"/><path d="M19,19H5c-1.1,0-2,0.9-2,2v0c0,0.6,0.4,1,1,1h16c0.6,0,1-0.4,1-1v0C21,19.9,20.1,19,19,19z"/></g></g></svg>',
a.style.backgroundColor=this.backgroundColor,a.childNodes[0].style.fill=this.iconColor,this.downloadButton=a,a.addEventListener("click",f,!1),a.addEventListener("mouseenter",f,!1),a.addEventListener("mouseleave",f,!1),this.view.appendChild(a));e&&c(this.appName).sliderSocialShareEnabled&&(a=document.createElement("div"),a.className="itemsButtons",e&&a.classList.add("lightbox"),a.setAttribute("type","share"),a.innerHTML='<svg height="1792" viewBox="0 0 1792 1792" width="1792" xmlns="http://www.w3.org/2000/svg"><path d="M1344 1024q133 0 226.5 93.5t93.5 226.5-93.5 226.5-226.5 93.5-226.5-93.5-93.5-226.5q0-12 2-34l-360-180q-92 86-218 86-133 0-226.5-93.5t-93.5-226.5 93.5-226.5 226.5-93.5q126 0 218 86l360-180q-2-22-2-34 0-133 93.5-226.5t226.5-93.5 226.5 93.5 93.5 226.5-93.5 226.5-226.5 93.5q-126 0-218-86l-360 180q2 22 2 34t-2 34l360 180q92-86 218-86z"/></svg>',
a.style.backgroundColor=this.backgroundColor,a.childNodes[0].style.fill=this.iconColor,this.shareButton=a,a.addEventListener("click",f,!1),a.addEventListener("mouseenter",f,!1),a.addEventListener("mouseleave",f,!1),this.view.appendChild(a));e&&c(this.appName).sliderLikesEnabled&&(a=document.createElement("div"),a.className="itemsButtons",e&&a.classList.add("lightbox"),a.setAttribute("type","like"),a.innerHTML='<svg enable-background="new 0 0 51 46" height="46px" id="Layer_1" version="1.1" viewBox="0 0 51 46" width="51px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M46.188,4.101c-5.529-5.53-14.495-5.53-20.023,0L25.39,4.875l-0.996-0.774c-5.529-5.53-14.715-5.53-20.245,0  C-1.38,9.63-1.27,18.595,4.26,24.125l18.753,18.643c0.671,0.671,1.4,1.258,2.376,1.766c0.76-0.508,1.483-1.095,2.155-1.766  l18.643-18.643C51.717,18.595,51.717,9.63,46.188,4.101z""/></svg>',
a.style.backgroundColor=this.backgroundColor,a.childNodes[0].style.fill=this.iconColor,this.likeButton=a,a.addEventListener("click",f,!1),a.addEventListener("mouseenter",f,!1),a.addEventListener("mouseleave",f,!1),this.view.appendChild(a));e&&!D.ios&&(a=document.createElement("div"),a.className="itemsButtons",e&&a.classList.add("lightbox"),a.setAttribute("type","fullscreen"),a.innerHTML='<svg height="14px" version="1.1" viewBox="0 0 14 14" width="14px" xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" xmlns:xlink="http://www.w3.org/1999/xlink"><title/><desc/><defs/><g fill-rule="evenodd" id="Page-1" stroke="none" stroke-width="1"><g transform="translate(-215.000000, -257.000000)"><g id="fullscreen" transform="translate(215.000000, 257.000000)"><path d="M2,9 L0,9 L0,14 L5,14 L5,12 L2,12 L2,9 L2,9 Z M0,5 L2,5 L2,2 L5,2 L5,0 L0,0 L0,5 L0,5 Z M12,12 L9,12 L9,14 L14,14 L14,9 L12,9 L12,12 L12,12 Z M9,0 L9,2 L12,2 L12,5 L14,5 L14,0 L9,0 L9,0 Z" id="Shape"/></g></g></g></svg>',
a.style.backgroundColor=this.backgroundColor,a.childNodes[0].style.fill=this.iconColor,this.fullscreenButton=a,a.addEventListener("click",f,!1),a.addEventListener("mouseenter",f,!1),a.addEventListener("mouseleave",f,!1),this.view.appendChild(a))}function aa(a,b){this.delegate=a;this.appName=a.appName;this.index=b;this.view=document.createElement("div");this.view.className="gmedia_amron_MasonryThumbPint";this.view.style.padding=c(this.appName).thumbSpacing/2+"px";this.imageHolder=document.createElement("div");
this.imageHolder.className="gmedia_imageHolder";this.view.appendChild(this.imageHolder);this._size=new w(1,1);this.item=void 0;this.imageRetio=1;this.opacityDelay=void 0;this._display="none"}function J(a,b,e){this.delegate=a;this.query=e;this.appName=b;this.query.per_page=0;this.query.page=1;this.properties=void 0;this.itemsList=[];this.filteredList=[];this.presentedList=[];this.page_Amount=0;this.scrollHandler=this.cureantPage=void 0;this.terms=[];this.term=void 0;this._filter=0;this.view=document.createElement("div");
this.header=document.createElement("div");this.headerNavi=document.createElement("div");this.content=document.createElement("div");this.footer=document.createElement("div");this.header.className="gm_header";this.content.className="gm_content";this.footer.className="gm_footer";this.headerNavi.classList="gm_navi";this.header.appendChild(this.headerNavi);this.view.appendChild(this.header);this.view.appendChild(this.content);this.view.appendChild(this.footer);this.resizeTimeOut=void 0;this.viewWidth=
0;c(this.appName).appEventManager.addGMEventListener(n.COLLECTION_DATA_REDY,this,"dataLoaded")}function K(a,b,e){J.apply(this,arguments);this.view.className="gmedia_amron_MasonryCollection";this.header.style.padding="0 "+c(b).thumbSpacing/2+"px";this.content.style.paddingBottom=c(b).thumbSpacing+"px";this.columnsArr=[];var d={};d.backgroundColor=c(this.appName).collectionThumbSubMenuBackgroundColor;d.backgroundColorOver=c(this.appName).collectionThumbSubMenuBackgroundColorOver;d.iconColor=c(this.appName).collectionThumbSubMenuIconColor;
d.iconColorOver=c(this.appName).collectionThumbSubMenuIconHoverColor;this.itemMenu=new P(this.delegate,d)}function ba(a,b,e){G(a,this);if(this.appApi&&(this.appName=b,this.appDiv=e,this.modal=void 0,this.collectionTranslateY=0,a=this.settings,c(this.appName).appApi=this.appApi,c(this.appName).post_url=a.post_url,c(this.appName).galleryID="gm"+e.getAttribute("data-gmid"),c(this.appName).appEventManager=new r,c(this.appName).lightBoxEnable="1"==a.lightBoxEnable?!0:!1,c(this.appName).thumbSpacing=parseInt(a.thumbSpacing),
c(this.appName).collectionPreloaderColor="#"+a.collectionPreloaderColor,c(this.appName).linkTargetWindow=a.linkTargetWindow,c(this.appName).infoBarTermsClickNewPageEnable="1"==a.infoBarTermsClickNewPageEnable?!0:!1,c(this.appName).collectionThumbRecomendedWidth=parseInt(a.collectionThumbRecomendedWidth),c(this.appName).collectionThumbHoverColor=a.collectionThumbHoverColor,c(this.appName).collectionThumbContentBGColor="rgba(245,245,245,1)",c(this.appName).collectionThumbTitleShow="1"==a.collectionThumbTitleShow?
!0:!1,c(this.appName).collectionThumbTitleColor=a.collectionThumbTitleColor,c(this.appName).collectionThumbFontSize=parseInt(a.collectionThumbFontSize),c(this.appName).collectionThumbDescriptionShow="1"==a.collectionThumbDescriptionShow?!0:!1,c(this.appName).collectionThumbDescriptionColor=a.collectionThumbDescriptionColor,c(this.appName).collectionThumbDescriptionFontSize=parseInt(a.collectionThumbDescriptionFontSize),c(this.appName).collectionThumbSubMenuBackgroundColor=a.collectionThumbSubMenuBackgroundColor,
c(this.appName).collectionThumbSubMenuBackgroundColorOver=a.collectionThumbSubMenuBackgroundColorOver,c(this.appName).collectionThumbSubMenuIconColor=a.collectionThumbSubMenuIconColor,c(this.appName).collectionThumbSubMenuIconHoverColor=a.collectionThumbSubMenuIconHoverColor,c(this.appName).collectionReadMoreButtonBGColor=a.collectionReadMoreButtonBGColor,c(this.appName).collectionReadMoreButtonLabelColor=a.collectionReadMoreButtonLabelColor,c(this.appName).collectionReadMoreButtonBGColorHover=a.collectionReadMoreButtonBGColorHover,
c(this.appName).collectionReadMoreButtonLabelColorHover=a.collectionReadMoreButtonLabelColorHover,c(this.appName).collectionReadMoreButtonLabel=a.collectionReadMoreButtonLabel,c(this.appName).modaBgColor=a.modaBgColor,c(this.appName).modalInfoBoxBgColor=a.modalInfoBoxBgColor,c(this.appName).modalInfoBoxTitleTextColor="#"+a.modalInfoBoxTitleTextColor,c(this.appName).modalInfoBoxTextColor="#"+a.modalInfoBoxTextColor,c(this.appName).infoBarCountersEnable="1"==a.infoBarCountersEnable?!0:!1,c(this.appName).infoBarDateInfoEnable=
"1"==a.infoBarDateInfoEnable?!0:!1,c(this.appName).shareTitlePlaceHolder=a.shareTitlePlaceHolder,c(this.appName).sliderThumbBarEnable="1"==a.sliderThumbBarEnable?!0:!1,c(this.appName).sliderThumbBarHoverColor=a.sliderThumbBarHoverColor,c(this.appName).sliderPreloaderColor="#"+a.sliderPreloaderColor,c(this.appName).sliderBgColor=a.sliderBgColor,c(this.appName).sliderHeaderFooterBgColor="#"+a.sliderHeaderFooterBgColor,c(this.appName).sliderNavigationColor=a.sliderNavigationColor,c(this.appName).sliderNavigationIconColor=
a.sliderNavigationIconColor,c(this.appName).sliderItemTitleFontSize=parseInt(a.sliderItemTitleFontSize),c(this.appName).sliderItemTitleTextColor="#"+a.sliderItemTitleTextColor,c(this.appName).sliderThumbSubMenuBackgroundColor=a.sliderThumbSubMenuBackgroundColor,c(this.appName).sliderThumbSubMenuBackgroundColorOver=a.sliderThumbSubMenuBackgroundColorOver,c(this.appName).sliderThumbSubMenuIconColor=a.sliderThumbSubMenuIconColor,c(this.appName).sliderThumbSubMenuIconHoverColor=a.sliderThumbSubMenuIconHoverColor,
c(this.appName).sliderInfoEnable="1"==a.sliderInfoEnable?!0:!1,c(this.appName).sliderItemDownload="1"==a.sliderItemDownload?!0:!1,c(this.appName).sliderItemDiscuss="1"==a.sliderItemDiscuss?!0:!1,c(this.appName).sliderSocialShareEnabled="1"==a.sliderSocialShareEnabled?!0:!1,c(this.appName).sliderLikesEnabled="1"==a.sliderLikesEnabled?!0:!1,this.audioPlayer=void 0,this.bookmarkStatusShow=c(this.appName).bookmarkShowState,c)){var d=this;this.currentLocation=void 0;this.collections=[];this.terms={};c(this.appName).appEventManager.addGMEventListener(n.NEED_NEW_COLLECTION,
this,"pushNewCollectionByTermID");c(this.appName).appEventManager.addGMEventListener(n.NEED_NEW_COLLECTION_BY_TERM,this,"pushNewCollectionByTerm");c(this.appName).appEventManager.addGMEventListener(n.NEED_MODAL,this,"createModal");c(this.appName).lightBoxEnable&&(c(this.appName).appEventManager.addGMEventListener(n.NEED_LIGHTBOX,this,"createLightbox"),c(this.appName).appEventManager.addGMEventListener(n.REMOVE_LIGHTBOX,this,"removeLightbox"));this.viewsSet={};c(this.appName).appEventManager.addGMEventListener(n.COUNTERS_UPDATED,
this,"itemsCountersUpdateHandler");this.likesSet={};window.localStorage.getItem("gm_likesSet")&&(this.likesSet=JSON.parse(window.localStorage.getItem("gm_likesSet")));this.appDiv.style.position="relative";this.appDiv.style.height="auto";this.appDivWidth=this.appDiv.clientWidth;window.addEventListener("resize",function(){d.windowResizeHandler(d)});e=window.location.hash.indexOf(this.appName);e+1&&(this.startId=2<=window.location.hash.substr(e).split("-").length?parseInt(window.location.hash.substr(e).split("-")[1]):
void 0)&&(window.location.hash="",e=window.location.href.replace("#",""),window.history.replaceState(null,null,e));this.popstateHandler=function(){d.slider?d.slider.prepareToRemove():0<d.collections.length&&d.collections[d.collections.length-1]&&d.itemFromHash&&d.collections[d.collections.length-1].tryOpenLightboxForID(d.itemFromHash)};window.addEventListener("popstate",this.popstateHandler,!1);this.appQuery&&(this.createAudioPlayer(),this.addCollectioByQuery(this.appQuery))}}var I=!1,A=!1,n={REQUEST_START:"REQUEST_START",
COLLECTION_DATA_REDY:"COLLECTION_DATA_REDY",COUNTERS_UPDATED:"COUNTERS_UPDATED",NEED_MODAL:"NEED_MODAL",NEED_LIGHTBOX:"NEED_LIGHTBOX",REMOVE_LIGHTBOX:"REMOVE_LIGHTBOX",NEED_NEW_COLLECTION:"NEED_NEW_COLLECTION",NEED_PREV_COLLECTION:"NEED_PREV_COLLECTION",NEED_NEW_COLLECTION_BY_TERM:"NEED_NEW_COLLECTION_BY_TERM",FULLSCREEN_SWITCH:"FULLSCREEN_SWITCH"},Q=new function(){function a(){e+=1;b(h+1>=d.length?0:h+1)}function b(g){!d||e==d.length&&!c||c&&e>=c||(c&&(c=Math.min(c,d.length)),f=d[g].webView,h=g,
f.complete?(e+=1,b(h+1>=d.length?0:h+1)):f.addEventListener("load",a,!1))}var e=0,d=void 0,f=void 0,c=void 0,h=void 0;this.init=function(g,m,q){f&&f.removeEventListener("load",a,!1);c=q;e=0;f=void 0;h=m;d=g;void 0===m&&(m=0);b(m)};this.status=function(){return{list:d,index:h}}},z=v()?{passive:!1,capture:!1}:!1,y=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,x=window.cancelAnimationFrame||window.mozCancelAnimationFrame,
D=function(){var a=window,b=a.navigator.userAgent,e={ios:!1,android:!1,androidChrome:!1,desktop:!1,windows:!1,iphone:!1,ipod:!1,ipad:!1,cordova:a.cordova||a.phonegap,phonegap:a.cordova||a.phonegap},d=b.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),f=b.match(/(Android);?[\s\/]+([\d.]+)?/),c=b.match(/(iPad).*OS\s([\d_]+)/),h=b.match(/(iPod)(.*OS\s([\d_]+))?/),k=!c&&b.match(/(iPhone\sOS|iOS)\s([\d_]+)/);d&&(e.os="windows",e.osVersion=d[2],e.windows=!0);f&&!d&&(e.os="android",e.osVersion=f[2],e.android=
!0,e.androidChrome=0<=b.toLowerCase().indexOf("chrome"));if(c||k||h)e.os="ios",e.ios=!0;k&&!h&&(e.osVersion=k[2].replace(/_/g,"."),e.iphone=!0);c&&(e.osVersion=c[2].replace(/_/g,"."),e.ipad=!0);h&&(e.osVersion=h[3]?h[3].replace(/_/g,"."):null,e.iphone=!0);e.ios&&e.osVersion&&0<=b.indexOf("Version/")&&"10"===e.osVersion.split(".")[0]&&(e.osVersion=b.toLowerCase().split("version/")[1].split(" ")[0]);e.desktop=!(e.os||e.android||e.webView);e.webView=(k||c||h)&&b.match(/.*AppleWebKit(?!.*Safari)/i);e.os&&
"ios"===e.os&&(b=e.osVersion.split("."),d=document.querySelector('meta[name="viewport"]'),e.minimalUi=!e.webView&&(h||k)&&(7===1*b[0]?1<=1*b[1]:7<1*b[0])&&d&&0<=d.getAttribute("content").indexOf("minimal-ui"));e.pixelRatio=a.devicePixelRatio||1;return e}();r.prototype={addGMEventListener:function(a,b,e){this._listenerSet[a]||(this._listenerSet[a]=[]);this._listenerSet[a].push({listener:b,handler:e})},removeGMEventListener:function(a,b,e){if(this._listenerSet[a])for(var d=0;d<this._listenerSet[a].length;d++)this._listenerSet[a][d].listener==
b&&this._listenerSet[a][d].handler==e&&(this._listenerSet[a].splice(d,1),d=this._listenerSet[a].length)},dispatchGMEvent:function(a){if(this._listenerSet[a.type])for(var b=this._listenerSet[a.type],e=0;e<b.length;e++){var d=b[e];if(d&&d.listener&&"function"==typeof d.listener[d.handler])d.listener[d.handler](a)}}};M.prototype={hasTag:function(a){if("all"==a)return!0;if(!this.tags||0==this.tags.length)return!1;for(var b=0;b<this.tags.length;b++)if(this.tags[b].term_id==a)return!0},get itemViewSrc(){return this.meta?
this.meta.web?this.meta.web.link:this.meta.original?this.meta.original.link:this.meta.thumb?this.meta.thumb.link:null:null},get itemViewThumbSrc(){return this.meta?this.meta.thumb?this.meta.thumb.link:this.meta.web?this.meta.web.link:null:null},get itemViewSize(){return this.meta?this.meta.web?new w(this.meta.web.width,this.meta.web.height):this.meta.original?new w(this.meta.original.width,this.meta.original.height):new w(300,300):new w(300,300)},get itemViewThumbSize(){return this.meta?this.meta.thumb?
new w(this.meta.thumb.width,this.meta.thumb.height):this.meta.web?new w(this.meta.web.width,this.meta.web.height):new w(300,300):new w(300,300)},get webView(){if(this.webImg.src)return this.webImg;this.webImg.src=this.itemViewSrc;return this.webImg}};E.prototype={set gmedia__in(a){this._query&&(this._query.gmedia__in=a.toString(),"myCollection"==this.taxonomy&&this._query&&(this.sharelink=c(this.appName).post_url+"/?"+c(this.appName).galleryID+"[gmedia__in]="+this._query.gmedia__in))},get title(){return this.name},
get query(){return this._query},get taxonomy_type(){var a=void 0;switch(this.taxonomy){case "gmedia_album":a="albums";break;case "gmedia_category":a="categories";break;case "gmedia_tag":a="tags"}return a}};E.termDataByQueryNameId=function(a,b,e){if(!a.gmedia__in)return null;var d=a.gmedia__in.split(",").length,c=a.orderby,g=a.order;return{count:d,name:b,meta:{_order:g,_orderby:c,order:g,orderby:c},taxonomy:"myCollection",term_id:"myCollection_"+e,_query:a}};E.termsListFromAppQuery=function(a){var b=
[],e=void 0;if(a.album__in){var d=a.album__in.split(",");for(e in d)b.push({taxonomy_type:"albums",term_id:d[e]})}if(a.category__in)for(e in d=a.category__in.split(","),d)b.push({taxonomy_type:"categories",term_id:d[e]});if(a.tag__in)for(e in a=a.tag__in.split(","),a)b.push({taxonomy_type:"tags",term_id:a[e]});return 0<b.length?b:void 0};W.prototype={get cover(){return this._cover?this._cover:null}};N.prototype={addToStage:function(){var a=this,b=document.getElementsByTagName("body")[0];document.getElementsByTagName("html");
this.view.style.zIndex=B(b)+1;U();b.appendChild(this.view);setTimeout(function(){a.view.style.opacity="1"},30);document.addEventListener("keydown",a.keydownHandler(),!1)},prepareToRemove:function(a){var b=this;document.removeEventListener("keydown",this.handlerKB,!1);b.view.style.opacity="0";this.delegate.slider||V();setTimeout(function(){b.view&&b.view.parentNode&&b.view.parentNode.removeChild(b.view);delete b.view;b.delegate.deleteModal()},400)},keydownHandler:function(a){var b=this;b.handlerKB=
function(a){switch(a.keyCode){case 27:b.prepareToRemove()}};return b.handlerKB},pushPage:function(a){this.viewCompleted=!1;this.scrollView&&this.scrollView.parentNode&&this.scrollView.parentNode.removeChild(this.scrollView);this.view.appendChild(a);this.scrollView=a;this.updateControlls()},updateControlls:function(){if(this.scrollView&&!this.viewCompleted){this.startDragHandler=this.startDrag();if(q()){var a=v()?{passive:!1,capture:!1}:!1;this.scrollView.addEventListener("touchstart",this.startDragHandler,
a)}this.scrollView.addEventListener("mousedown",this.startDragHandler,!1);this.viewCompleted=!0}},get bottom(){return this.view.clientHeight-this.scrollView.clientHeight-20},set scrollViewTranslateY(a){this._scrollViewTranslateY=a;this.scrollView.style.transform="translateY("+a+"px)";a=Math.max(c(this.appName).modalBgAlpha-Math.abs(a/200),0);this.closeButton.style.opacity=a},get scrollViewTranslateY(){return this._scrollViewTranslateY},startDrag:function(){function a(){k=0<d.scrollViewTranslateY?
.2*k+.1*(0-d.scrollViewTranslateY):d.scrollViewTranslateY<d.bottom?.2*k+.1*(d.bottom-d.scrollViewTranslateY):.95*k;d.scrollViewTranslateY+=k;.04>Math.abs(k)?(x(p),d.dragging=!1):p=y(a)}function b(a){a.preventDefault();a=a.touches&&a.touches[0]?a.touches[0].pageY:a.pageY;d.dragging=!0;d.scrollViewTranslateY=h-(c-a);m=l;l=d.scrollViewTranslateY;k=l-m}function e(c){c.preventDefault();d.scrollView.style.transition="none";q()&&(document.removeEventListener("touchmove",b,g),document.removeEventListener("touchend",
e,g),document.removeEventListener("touchcancel",e,!1));document.removeEventListener("mousemove",b,!1);document.removeEventListener("mouseup",e,!1);document.removeEventListener("oncontextmenu",e,!1);if(0>=d.bottom){if(d.scrollViewTranslateY<d.bottom-50||50<d.scrollViewTranslateY){d.prepareToRemove();return}}else if(-50>d.scrollViewTranslateY||50<d.scrollViewTranslateY){d.prepareToRemove();return}(0!=k||0<d.scrollViewTranslateY||d.scrollViewTranslateY<d.bottom)&&d.dragging&&(p=y(a))}var d=this,c=void 0,
g=v()?{passive:!1,capture:!1}:!1,h=0,k=0,m=0,l=0,p=void 0;return function(a){a?(q()||a.preventDefault(),a.button&&0!==a.button||(k=0,l=d.scrollViewTranslateY,c=a.touches&&a.touches[0]?a.touches[0].pageY:a.pageY,h=d.scrollViewTranslateY,x(p),q()&&(document.addEventListener("touchmove",b,g),document.addEventListener("touchend",e,g),document.addEventListener("touchcancel",e,!1)),document.addEventListener("mousemove",b,!1),document.addEventListener("mouseup",e,!1),document.addEventListener("oncontextmenu",
e,!1))):(k=0,h=d.scrollViewTranslateY,x(p))}}};O.prototype={initByItem:function(a){if(this.imgSRC==a.itemViewThumbSrc)this.delegate.itemsLoaderHandler(this.view.clientWidth);else if(this.item=a,this.imgSRC=a.itemViewThumbSrc,this.bgImg.style.backgroundImage="url("+this.imgSRC+")",this.type=a.type,"audio"==this.type||"video"==this.type){this.hover=document.createElement("div");this.hover.className="gmedia_amron_ScrollBarItemLink";this.hover.style.backgroundColor=t("#ffffff",.6);switch(this.type){case "audio":this.hover.innerHTML=
'<svg version="1.1" viewBox="0 0 58 94" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M37.992,0h-8.021v65.358c-4.435-1.706-10.174-1.73-15.835,0.328C3.994,69.377-2.049,78.355,0.638,85.736   c2.688,7.383,13.088,10.374,23.229,6.683c8.614-3.134,14.249-10.082,14.111-16.626l0.014-53.451   c13.986,2.204,14.943,19.884,13.268,24.842c-0.636,1.879,0.484,3.286,2.598,0C68.938,23.726,37.992,13.376,37.992,0z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>';
break;case "video":"vimeo"==this.item.mime_type.split("/")[1]?this.hover.innerHTML='<svg enable-background="new 0 0 56.693 56.693" height="56.693px" id="Layer_1" version="1.1" viewBox="0 0 56.693 56.693" width="56.693px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M3.602,22.974l2.01,2.636c0,0,4.146-3.267,5.528-1.634c1.382,1.634,6.656,21.357,8.417,24.997  c1.537,3.192,5.777,7.413,10.426,4.397c4.646-3.014,20.098-16.205,22.863-31.781c2.764-15.574-18.594-12.313-20.854,1.256  c5.652-3.395,8.671,1.38,5.778,6.784c-2.889,5.399-5.527,8.921-6.908,8.921c-1.379,0-2.441-3.612-4.021-9.928  c-1.635-6.53-1.624-18.291-8.416-16.958C12.019,12.921,3.602,22.974,3.602,22.974z"/></svg>':
this.hover.innerHTML='<svg data-name="Layer 21" height="24" id="Layer_21" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title/><path d="M21.80731,7.805a2.79915,2.79915,0,0,0-2.54907-2.53906C17.69061,5.13586,15.36707,5,12.50012,5c-3.45251,0-6.05865.14105-7.74353.27332A2.79932,2.79932,0,0,0,2.1925,7.815C2.08936,8.90021,2,10.33344,2,12.0423c0,1.66632.08862,3.07422.19128,4.14594a2.79852,2.79852,0,0,0,2.56384,2.53833C6.43994,18.85883,9.04657,19,12.50012,19c2.86694,0,5.19049-.13586,6.75812-.266a2.799,2.799,0,0,0,2.54907-2.539C21.91052,15.11548,22,13.69189,22,12S21.91052,8.88452,21.80731,7.805ZM9.77594,14.93878V9.06122L15.574,12Z"/></svg>'}this.view.appendChild(this.hover)}},
set musicIdentifireStatus(a){},select:function(a){this.selector.style.opacity=a?"1":"0";this._selected=a}};X.prototype={initItemsList:function(a){this.itemsList=a;a=new O(this);this.scrollView.appendChild(a.view);this.thumbSize.width=a.view.clientWidth;this.thumbSize.height=a.view.clientHeight;this.scrollView.removeChild(a.view);this.prepare();this.view.style.height=this.scrollView.style.height=this.thumbSize.height+"px";this._scrollWidth=this.thumbSize.width*this.itemsList.length;this.scrollView.style.width=
this._scrollWidth+5+"px";this.scrollViewTranslateX=0;this.updateView()},addThumbByIndex:function(a){function b(a){"touchend"!=a.type&&"mouseup"!=a.type||e.dragging||(e.delegate.gotoPageByNum(parseInt(this.getAttribute("gmIndex"))),e.startDragHandler&&e.startDragHandler())}if(!this.thumbsList[a]){var e=this,d=new O(this);this.thumbsList[a]=d;this.itemsInStageCount+=1;q()&&d.view.addEventListener("touchend",b,!1);d.view.addEventListener("mouseup",b,!1);d.view.style.left=this.thumbSize.width*a+"px";
this.scrollView.appendChild(d.view);d.initByItem(this.itemsList[a]);d.view.setAttribute("gmIndex",a)}},changeAudioStatusForIndex:function(a,b){!this.activAudioIndex&&0!==this.activAudioIndex||a==this.activAudioIndex||(this.thumbsList[this.activAudioIndex].musicIdentifireStatus="ended");this.thumbsList[a].musicIdentifireStatus=b.type;this.activAudioIndex=a},prepare:function(){this._scrollWidth=0;this.scrollView.style.transform="translateX(0px)";this.scrollView.style.width="0px";this._scrollViewTranslateX=
0},resize:function(){this.updateView()},selectThumbByIndex:function(a){if(void 0!==a&&0!=this.itemsList.length){var b;(this.activIndex||0===this.activIndex)&&(b=this.thumbsList[this.activIndex])&&b.select(!1);this.thumbsList[a]||this.addThumbByIndex(a);if(b=this.thumbsList[a]){b.select(!0);b=this.thumbSize.width*a;var e=b+this.scrollViewTranslateX,d=e+this.thumbSize.width;this.scrollView.style.transition="none";if(0>e||0>d)this.scrollView.style.transition="transform .4s",this.scrollViewTranslateX=
-b;if(e>this.view.clientWidth||d>this.view.clientWidth)this.scrollView.style.transition="transform .4s",this.scrollViewTranslateX=this.view.clientWidth-this.thumbSize.width-b;this._scrollWidth>this.view.clientWidth&&(this.scrollViewTranslateX=Math.max(this.scrollViewTranslateX,-(this._scrollWidth-this.view.clientWidth)))}this.activIndex=a}},updateView:function(){this.selectThumbByIndex(this.activIndex);1>this.view.clientWidth/this._scrollWidth?(this.scrollViewTranslateX=this._scrollViewTranslateX,
this.viewCompleted||(this.scrollView.classList.add("gm_grabbable"),this.startDragHandler=this.startDrag(),q()&&this.scrollView.addEventListener("touchstart",this.startDragHandler,z),this.scrollView.addEventListener("mousedown",this.startDragHandler,!1),this.viewCompleted=!0)):(this.scrollView.classList.remove("gm_grabbable"),this.scrollViewTranslateX=(this.view.clientWidth-this._scrollWidth)/2,this.viewCompleted&&(q()&&this.scrollView.removeEventListener("touchstart",this.startDragHandler,z),this.scrollView.removeEventListener("mousedown",
this.startDragHandler,!1),this.viewCompleted=!1))},set scrollViewTranslateX(a){this._scrollViewTranslateX=a;this.scrollView.style.transform="translateX("+a+"px)";if(this.itemsList.length!=this.itemsInStageCount){var b=Math.max(Math.floor(-a/this.thumbSize.width),0);for(a=Math.min(b+Math.ceil(this.view.clientWidth/this.thumbSize.width),this.itemsList.length-1);b<=a;b++)this.addThumbByIndex(b)}},get scrollViewTranslateX(){return this._scrollViewTranslateX},startDrag:function(a){function b(){return-(g._scrollWidth-
g.view.clientWidth+g.view.getBoundingClientRect().left)}function e(){m=0<g.scrollViewTranslateX?.2*m+.1*(0-g.scrollViewTranslateX):g.scrollViewTranslateX<b()?.2*m+.1*(b()-g.scrollViewTranslateX):.95*m;g.scrollViewTranslateX+=m;.04>Math.abs(m)?x(n):n=y(e)}function d(a){a.preventDefault();if(a=h-(a.touches&&a.touches[0]?a.touches[0].pageX:a.pageX))g.dragging=!0;g.scrollViewTranslateX=k-a;p=l;l=g.scrollViewTranslateX;m=l-p}function c(a){a.preventDefault();g.scrollView.style.transition=null;q()&&(document.removeEventListener("touchmove",
d,z),document.removeEventListener("touchend",c,z),document.removeEventListener("touchcancel",c,!1));document.removeEventListener("mousemove",d,!1);document.removeEventListener("mouseup",c,!1);document.removeEventListener("oncontextmenu",c,!1);if(0!=m||0<g.scrollViewTranslateX||g.scrollViewTranslateX<b())n=y(e);g.dragging=!1}var g=this,h=void 0,k=void 0,m=0,p=0,l=0,n=void 0;return function(a){a?(q()||a.preventDefault(),a.button&&0!==a.button||(m=0,l=g.scrollViewTranslateX,h=a.touches&&a.touches[0]?
a.touches[0].pageX:a.pageX,k=g.scrollViewTranslateX,x(n),q()&&(document.addEventListener("touchmove",d,z),document.addEventListener("touchend",c,z),document.addEventListener("touchcancel",c,!1)),document.addEventListener("mousemove",d,!1),document.addEventListener("mouseup",c,!1),document.addEventListener("oncontextmenu",c,!1))):(m=0,k=g.scrollViewTranslateX,x(n))}}};Y.prototype={initByItem:function(a){if(this.id!=a.ID){var b=this;this.item=a;this.id=a.ID;1!=this.scale&&(this.scale=1,this.viewTranslate=
new p(0,0));this.itemInner.firstChild&&this.itemInner.removeChild(this.itemInner.firstChild);this.itemInner.appendChild(a.webView);this.itemImg=a.webView;a.webView.complete?(this.imgSize.width=this.itemImg.naturalWidth,this.imgSize.height=this.itemImg.naturalHeight,this.isInScale&&this.normalize(),this.fit(!1)):(this.preloader.style.display="block",a.webView.addEventListener("load",function(){b.preloader.style.display="none";b.imgSize.width=this.naturalWidth;b.imgSize.height=this.naturalHeight;b.isInScale&&
b.normalize();b.fit(!1)},!1));switch(a.type){case "audio":this.iconHolder.innerHTML='<svg version="1.1" viewBox="0 0 58 94" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M37.992,0h-8.021v65.358c-4.435-1.706-10.174-1.73-15.835,0.328C3.994,69.377-2.049,78.355,0.638,85.736   c2.688,7.383,13.088,10.374,23.229,6.683c8.614-3.134,14.249-10.082,14.111-16.626l0.014-53.451   c13.986,2.204,14.943,19.884,13.268,24.842c-0.636,1.879,0.484,3.286,2.598,0C68.938,23.726,37.992,13.376,37.992,0z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>';
this.view.classList.add("info_icon");break;case "video":this.view.classList.add("info_icon");this.iconHolder.innerHTML='<svg enable-background="new 0 0 512 512" height="512px" id="Layer_1" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M414.03,225.937c22.198,16.531,22.198,43.585,0,60.118L121.682,503.76  c-22.195,16.524-40.36,7.406-40.36-20.272V28.511c0-27.682,18.165-36.796,40.36-20.266L414.03,225.937z"/></svg>';
this.iconHolder.firstChild.style.marginLeft="7px";break;default:this.view.classList.remove("info_icon")}}},set posX(a){this.view.style.left=this.size.width*a+"px";this.positionIndex=a},resize:function(){this.size.width=this.view.clientWidth;this.size.height=this.view.clientHeight;this.posX=this.positionIndex;this.isInScale&&this.normalize();this.fit(!1)},fit:function(a){if(this.itemImg){a=0;c(this.appName).sliderThumbBarEnable&&700<this.size.height&&(a=100);!c(this.appName).sliderThumbBarEnable&&
700<this.size.height&&(a=48);"video"==this.item.type&&(a=40);var b=this.imgSize;var e=new w(this.size.width-4,this.size.height-2*a),d=b.width,f=b.height;b=e.width;e=e.height;var g=Math.min(b/d,e/f);g=1<g?1:g;d=Math.round(d*g);f=Math.round(f*g);b=new F(Math.round((b-d)/2),Math.round((e-f)/2),d,f);b.x+=2;b.y+=a;this.imgScale=Math.min(this.imgSize.width/b.width,this.MaxScale);this.item.webImgFrame.x!=b.x||this.item.webImgFrame.y!=b.y||this.item.webImgFrame.width!=b.width||this.item.webImgFrame.height!=
b.height?(this.imageFrame=b,this.item.webImgFrame=b):this._imageFrame=b;this.videoWrap&&(this.videoWrapFrame=b)}},set imageFrame(a){this.itemImg.style.left=a.x+"px";this.itemImg.style.top=a.y+"px";this.itemImg.style.width=a.width+"px";this.itemImg.style.height=a.height+"px";this._imageFrame=a},get imageFrame(){return this._imageFrame},set videoWrapFrame(a){this.videoWrap.style.width=a.width+"px";this.videoWrap.style.height=a.height+"px";this.videoWrap.style.left=a.x+"px";this.videoWrap.style.top=
a.y+"px"},checkOffset:function(a,b){if(b!==this.boundingBoxScale){var e=this.imageFrame.width*(b?b:1),d=this.imageFrame.height*(b?b:1),c=this.imageFrame.x*(b?b:1),g=this.imageFrame.y*(b?b:1);this.boundingBox={left:e>this.size.width?-c:(this.size.width-this.size.width*b)/2,top:d>this.size.height?-g:(this.size.height-this.size.height*b)/2,right:e>this.size.width?this.size.width-(c+e):(this.size.width-this.size.width*b)/2,bottom:d>this.size.height?this.size.height-(g+d):(this.size.height-this.size.height*
b)/2};this.boundingBoxScale=b}b=a.x>this.boundingBox.left?this.boundingBox.left:a.x;b=b<this.boundingBox.right?this.boundingBox.right:b;a=a.y>this.boundingBox.top?this.boundingBox.top:a.y;a=a<this.boundingBox.bottom?this.boundingBox.bottom:a;return new p(b,a)},is_pointInItem:function(a){var b=this.viewTranslate.x+this.size.width/2*this.newScale-this.imageFrame.width/2*this.newScale,e=b+this.imageFrame.width*this.newScale,d=this.size.height/2*this.newScale+this.viewTranslate.y-this.imageFrame.height/
2*this.newScale,c=d+this.imageFrame.height*this.scale;return a.x>b&&a.x<e&&a.y>d&&a.y<c?!0:!1},normalize:function(a){x(this.animaSliderRender);a?this.renderTransformTo(new p(0,0),1):(this.scale=this.newScale=this.newScaleMW=1,this.viewTranslate=new p(0,0),this.origin=new p(0,0))},get isInScale(){return 1==this.newScale&&0==this.origin.x&&0==this.origin.y?!1:!0},zoomIn:function(a,b){"audio"!=this.item.type&&"video"!=this.item.type&&(x(this.animaSliderRender),b=new p(b.x-(b.x-this.viewTranslate.x)/
this.scale*a,b.y-(b.y-this.viewTranslate.y)/this.scale*a),this.renderTransformTo(this.checkOffset(b,a),a))},zoomByScaleIter:function(a,b){"audio"!=this.item.type&&"video"!=this.item.type&&(a=0>a?1.065:.935,x(this.animaSliderRender),this.newScale*a>this.MaxScale&&(a=this.MaxScale/this.newScale),1>this.newScale*a&&(a=1/this.newScale),this.newScale*=a,this.origin=new p(b.x-a*(b.x-this.origin.x),b.y-a*(b.y-this.origin.y)),this.renderTransformTo(this.checkOffset(this.origin,this.newScale),this.newScale))},
zoomByScaleDeltaToPoint:function(a,b,e){if("audio"!=this.item.type&&"video"!=this.item.type){x(this.animaSliderRender);a=this.startDistForZoom/this.startScale*(a/this.startDistForZoom)/(this.startDistForZoom/this.startScale)*this.startScale;e=0;a>this.MaxScale&&(e=.8*-(a-this.MaxScale));a+=e;e=this.startGlobalPoint.x-(this.startGlobalPoint.x-this.startTranslate.x)/this.newScale*a;var d=this.startGlobalPoint.y-(this.startGlobalPoint.y-this.startTranslate.y)/this.newScale*a;b=new p(e-b.x,d-b.y);this.scale=
this.newScale=a;this.viewTranslate=b;this.startTranslate=new p(e,d)}},set viewTranslate(a){this._viewTranslate=a;this.itemInner.style.transform="matrix("+this.scale+", 0, 0, "+this.scale+", "+a.x+", "+a.y+")"},get viewTranslate(){return this._viewTranslate},renderTransformTo:function(a,b){function e(){c=.05*c+.1*(a.x-d.viewTranslate.x);g=.05*g+.1*(a.y-d.viewTranslate.y);b&&(h=.05*h+.1*(b-d.scale));var f=d.viewTranslate.x;f+=c;var m=d.viewTranslate.y;m+=g;b&&(d.scale+=h);d.viewTranslate=new p(f,m);
.02>Math.abs(c)&&.02>Math.abs(g)&&.02>Math.abs(h)?(x(d.animaSliderRender),b&&(d.scale=b),d.viewTranslate=new p(a.x,a.y)):d.animaSliderRender=y(e)}var d=this;x(d.animaSliderRender);this.origin=a;this.newScale=b;var c=0,g=0,h=0;d.animaSliderRender=y(e)},renderGlidingTransform:function(){function a(){b.speedX*=e;b.speedY*=d;var c=b.viewTranslate.x;c+=b.speedX;var g=b.viewTranslate.y;g+=b.speedY;if(c>b.boundingBox.left||c<b.boundingBox.right)b.speedX*=-1,c=(c>b.boundingBox.left?b.boundingBox.left:c<b.boundingBox.right?
b.boundingBox.right:c)+b.speedX,e=.75;if(g>b.boundingBox.top||g<b.boundingBox.bottom)b.speedY*=-1,g=(g>b.boundingBox.top?b.boundingBox.top:g<b.boundingBox.bottom?b.boundingBox.bottom:g)+b.speedY,d=.75;b.origin=new p(c,g);b.viewTranslate=new p(c,g);.02>Math.abs(b.speedX)&&.02>Math.abs(b.speedY)?(x(b.animaSliderRender),b.speedX=0,b.speedY=0):b.animaSliderRender=y(a)}var b=this;x(b.animaSliderRender);var e=.95,d=.95;b.animaSliderRender=y(a)},renderStretchstretchTransform:function(){function a(){d=.2*
d+.15*(e.x-b.viewTranslate.x);c=.2*c+.15*(e.y-b.viewTranslate.y);b.viewTranslate=new p(b.viewTranslate.x+d,b.viewTranslate.y+c);.02>Math.abs(d)&&.02>Math.abs(c)?(x(b.animaSliderRender),b.viewTranslate=e):b.animaSliderRender=y(a)}var b=this;x(b.animaSliderRender);var e=this.checkOffset(new p(b.viewTranslate.x+b.speedX,b.viewTranslate.y+b.speedY),b.scale),d=0,c=0;b.animaSliderRender=y(a)},startDrag:function(a,b){x(this.animaSliderRender);"audio"!=this.item.type&&"video"!=this.item.type&&(this.startDistForZoom=
b,this.startGlobalPoint=a,this.startTranslate=this.viewTranslate,this.speedY=this.speedX=0,this.newX=this.viewTranslate.x,this.newY=this.viewTranslate.y,this.startScale=this.scale)},stopDrag:function(){if("audio"!=this.item.type&&"video"!=this.item.type){if(this.isInScale)if(1>this.scale)this.normalize(!0);else if(this.scale>this.MaxScale)this.zoomIn(this.MaxScale,this.startGlobalPoint);else{var a=this.checkOffset(this.origin,this.newScale);(this.isBlockDraging=a.x!=this.origin.x||a.y!=this.origin.y)&&
this.renderStretchstretchTransform()}this.draging&&(this.isBlockDraging?this.renderStretchstretchTransform():this.renderGlidingTransform(),this.draging=!1)}},dragin:function(a){if("audio"==this.item.type||"video"==this.item.type)return!1;var b=this.startTranslate.x-a.x;a=this.startTranslate.y-a.y;var e=this.checkOffset(new p(b,a),this.newScale);this.isBlockDraging=e.x!=b||e.y!=a;var d=a-e.y;b-=.7*(b-e.x);a-=.7*d;this.oldX=this.newX;this.newX=b;this.speedX=.7*(this.newX-this.oldX);this.oldY=this.newY;
this.newY=a;this.speedY=.7*(this.newY-this.oldY);this.origin=new p(b,a);this.viewTranslate=new p(b,a);return this.draging=!0},get isSubContentActiv(){return this.videoWrap?!0:!1},action:function(a){if(this.item)switch(a){case "click":if("video"==this.item.type){if(this.videoWrap)return this.removeVideoContent(),"videoStop";this.view.classList.add("video_play");this.view.classList.remove("info_icon");this.addVideoContent();return"videoPlay"}if("audio"==this.item.type)return this.tryPlayOrPauseMp3(),
"audioPlay";break;case "removeSubContent":if("video"==this.item.type)return this.removeVideoContent(),"videoStop";"audio"==this.item.type&&this.audioPlayer&&!this.audioPlayer.paused&&(this.audioPlayer.pause(),this.iconHolder.firstChild.classList.remove("gmAlbusListRotate"))}},addVideoContent:function(){var a=this.item.mime_type.split("/")[1];if(a)switch(this.videoWrap||(this.videoWrap=document.createElement("div"),this.videoWrap.className="gmedia_video_wrap",this.videoWrapFrame=this.imageFrame,this.itemInner.appendChild(this.videoWrap),
this.view.appendChild(this.delegate.closeButton)),a){case "youtube":this.videoWrap.innerHTML='<iframe src="https://www.youtube.com/embed/%id%?rel=0&showinfo=0&autoplay=1&wmode=transparent" frameborder="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'.replace("%id%",this.item.videoId);break;case "vimeo":this.videoWrap.innerHTML='<iframe src="https://player.vimeo.com/video/%id%?byline=0&portrait=0&autoplay=1" frameborder="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'.replace("%id%",
this.item.videoId)}},removeVideoContent:function(){this.videoWrap&&(this.delegate.buttonsBox.appendChild(this.delegate.closeButton),this.view.classList.remove("video_play"),this.videoWrap.parentNode&&this.videoWrap.parentNode.removeChild(this.videoWrap),this.videoWrap=void 0,this.view.classList.remove("video_play"),"image"!=this.item.type&&this.view.classList.add("info_icon"))},tryPlayOrPauseMp3:function(){if("audio"==this.item.type){if(!this.audioPlayer){if(!document.getElementById("gmAudioPlayer"))return;
this.audioPlayer=document.getElementById("gmAudioPlayer")}this.audioPlayer.src==this.item.url?this.audioPlayer.paused?(this.audioPlayer.play(),this.iconHolder.firstChild.classList.add("gmAlbusListRotate")):(this.audioPlayer.pause(),this.iconHolder.firstChild.classList.remove("gmAlbusListRotate")):(this.audioPlayer.src=this.item.url,this.audioPlayer.play(),this.iconHolder.firstChild.classList.add("gmAlbusListRotate"))}}};Z.prototype={get viewOfsetY(){return this.view.getBoundingClientRect().top-document.body.getBoundingClientRect().top},
get viewOfsetX(){return this.view.getBoundingClientRect().left-document.body.getBoundingClientRect().left},copyRight:function(a){var b=this,e=void 0;return function(a){if(!D.ios||"mouseup"!=a.type){var d=void 0,c=void 0;a.changedTouches&&a.changedTouches[0]?(d=a.changedTouches[0].pageX,c=a.changedTouches[0].pageY):(d=a.pageX,c=a.pageY);d-=b.viewOfsetX;c-=b.viewOfsetY;var h=b.itemsList[b.itemIndex];if(h.webView&&h.webView==a.target){a.preventDefault();var k=document.getElementById("gm_copyr");k&&(clearTimeout(e),
k.parentNode.removeChild(k),k=null);k=document.createElement("div");k.id="gm_copyr";k.className="gmedia_amron_hints";k.innerHTML=h.user&&h.user.displayname?"Hey, this photo is &#169; "+h.user.displayname:"This I can not give you.";k.style.top=c+"px";k.style.left=d+"px";b.view.appendChild(k);e=setTimeout(function(){k.parentNode.removeChild(k)},1E3)}}}},addToStage:function(){var a=this,b=document.getElementsByTagName("body")[0];document.getElementsByTagName("html");this.view.style.zIndex=B(b)+1;U();
document.addEventListener("contextmenu",this.copyR,!1);c(this.appName).appEventManager.addGMEventListener(n.FULLSCREEN_SWITCH,this,"fullscreenSwitch");b.appendChild(this.view);setTimeout(function(){a.view.classList.add("gmedia_amron_ColectionSliderActivate")},30)},initByList:function(a,b){if(a&&0<a.length){var e=this;this.currentItemIndex=b&&0!==b?0:void 0;this.startItemIndex=b?b:0;this.itemsList=a;setTimeout(function(){e.createLayout()},400)}},prepareToRemove:function(){var a=this.scrollViewTranslateY/
(this.size.height/2);this.pageInFocus.isSubContentActiv&&.2>a?"videoStop"==this.pageInFocus.action("click")&&(this.switchShowControlls(),this.needHideControlls=!this.isControllsShow):(Q.init(),window.removeEventListener("wheel",this.handlerMWheel,!1),document.removeEventListener("keydown",this.handlerKB,!0),document.removeEventListener("contextmenu",this.copyR,!1),c(this.appName).appEventManager.removeGMEventListener(n.FULLSCREEN_SWITCH,this,"fullscreenSwitch"),this.delegate.itemsCountersUpdate(),
this.subMenu&&this.showSubmenu&&(this.subMenu.style.transition="0s",this.needShowSubmenu(!1)),V(),this.view.classList.remove("gmedia_amron_ColectionSliderActivate"),document.getElementById("gmAudioPlayer")&&document.getElementById("gmAudioPlayer").pause(),c(this.appName).appEventManager.dispatchGMEvent(new u(n.REMOVE_LIGHTBOX,this)))},deHandler:function(a){var b=this;b.handlerKB=function(a){switch(a.keyCode){case 37:b.gotoPrev();break;case 39:b.gotoNext();break;case 27:if(b.delegate.modal){b.delegate.modal.prepareToRemove();
break}b.prepareToRemove();break;case 32:if(b.delegate.modal)b.delegate.modal.prepareToRemove();else return b.switchShowControlls(),b.needHideControlls=!b.isControllsShow,C(a),!1}};return b.handlerKB},showPreloader:function(a){var b=void 0;a?document.getElementById(this.appName+"slider_preloader")||(b=L(t(c(this.appName).sliderPreloaderColor,.7)),b.id=this.appName+"slider_preloader",this.view.appendChild(b)):(b=document.getElementById(this.appName+"slider_preloader"))&&S(b,function(){b&&b.parentNode&&
b.parentNode.removeChild(b)},500)},createLayout:function(){var a=this;this.itemsAmount=this.itemsList.length;this.size=new w(a.view.clientWidth,a.view.clientHeight);A&&this.slider.classList.add("miniScreen");500>a.size.width&&(this.prevButton.classList.add("sliderNextPrevButtonsMiniScreen"),this.nextButton.classList.add("sliderNextPrevButtonsMiniScreen"));this.initSlider();this.thumbsBar&&(this.thumbsBar.initItemsList(this.itemsList),this.thumbsBar.selectThumbByIndex(this.itemIndex));700>a.size.height&&
this.slider.classList.add("miniScreen");document.addEventListener("keydown",a.deHandler(),!0);window.addEventListener("wheel",a.mouseWheelHandler(),!1);setTimeout(function(){a.showControlls(!0)},500)},set itemIndex(a){this._itemNum=a;this.updateControlls()},get itemIndex(){return this._itemNum},initSlider:function(){var a;if(0==this.sliderPages.length)for(a=0;3>a;a++){var b=new Y(this);this.slider.appendChild(b.view);this.sliderPages.push(b);b.resize()}var e=2<this.itemsAmount?-1:0;for(a=0;3>a;a++)b=
this.sliderPages[a],b.posX=e,b.itemIndex=void 0,e+=1;this.startDragHandler?this.gotoPageByNum(0):(this.startDragHandler=this.startDrag(),this.slider.addEventListener("touchstart",this.startDragHandler,z),this.slider.addEventListener("mousedown",this.startDragHandler,!1),this.gotoPageByNum(this.startItemIndex))},set scrollViewTranslateY(a){this._scrollViewTranslateY=a;this.slider.style.transform="translate3d("+this.scrollViewTranslateX+"px,"+a+"px, 0px";0!=a&&this.sliderVerticalRender()},get scrollViewTranslateY(){return this._scrollViewTranslateY},
set scrollViewTranslateX(a){this._scrollViewTranslateX=a;this.slider.style.transform="translate3d("+a+"px,"+this.scrollViewTranslateY+"px, 0px";this.pageRenderByIndex(-Math.round(a/this.size.width))},get scrollViewTranslateX(){return this._scrollViewTranslateX},sliderVerticalRender:function(){var a=1-Math.abs(this.scrollViewTranslateY)/(this.size.height/2);this.background.style.opacity=a;this.needHideControlls||(.8>a?this.showControlls(!1):this.showControlls(!0))},gotoPageByNum:function(a){!this.itemIndex&&
0!==this.itemIndex||!this.currentItemIndex?this.gotoPageByIndex(a,!0):this.gotoPageByIndex(this.currentItemIndex-(this.itemIndex-a))},gotoNext:function(){this.gotoPageByIndex(this.currentItemIndex+1)},gotoPrev:function(){this.gotoPageByIndex(this.currentItemIndex-1)},renderTransformTo:function(a){function b(){d=.2*d+.15*(a.x-e.scrollViewTranslateX);c=.2*c+.15*(a.y-e.scrollViewTranslateY);e.scrollViewTranslateX+=d;e.scrollViewTranslateY+=c;1>Math.abs(d)&&1>Math.abs(c)&&(e.dragging=!1);.1>Math.abs(d)&&
.1>Math.abs(c)?(x(e.animaSliderRender),e.scrollViewTranslateX=a.x,e.scrollViewTranslateY=a.y,e.sliderTransitionComplete({target:e.slider})):e.animaSliderRender=y(b)}var e=this;x(e.animaSliderRender);var d=5*e.speedX,c=5*e.speedY;e.animaSliderRender=y(b)},gotoPageByIndex:function(a,b){3>this.itemsAmount&&(a=Math.max(0,a),a=Math.min(this.itemsAmount-1,a));2<Math.abs(this.currentItemIndex-a)&&(b=!0);a=-a*this.size.width;b?(this.scrollViewTranslateX=a,this.sliderTransitionComplete({target:this.slider})):
this.renderTransformTo(new p(a,this.scrollViewTranslateY))},pageRenderByIndex:function(a){if(this.currentItemIndex!==a){void 0!==this.pageInFocus&&(this.pageInFocusPrev=this.pageInFocus,this.pageInFocus.isInScale&&(this.zoomingPage=this.pageInFocus));var b;if(3>this.itemsAmount){for(b=0;b<this.itemsAmount;b++)this.sliderPages[b].initByItem(this.itemsList[b]);this.pageInFocus=this.sliderPages[a];this.itemIndex=this.currentItemIndex=a}else{var e=(a+1)%3;0>e&&(e+=3);var d=0<=e-1?e-1:2,c=3>e+1?e+1:0,
g=[d,e,c],h=[a-1,a,a+1];for(b=0;b<g.length;b++)this.sliderPages[g[b]].posX=h[b];this.currentItemIndex=a;this.pageInFocus=this.sliderPages[e];this.itemIndex=0>a?this.itemsAmount+(0==a%this.itemsAmount?-this.itemsAmount:a%this.itemsAmount):a%this.itemsAmount;this.sliderPages[e].initByItem(this.itemsList[this.itemIndex]);this.sliderPages[c].initByItem(this.itemIndex+1<this.itemsAmount?this.itemsList[this.itemIndex+1]:this.itemsList[0]);this.sliderPages[d].initByItem(0>this.itemIndex-1?this.itemsList[this.itemsAmount-
1]:this.itemsList[this.itemIndex-1])}}},sliderTransitionComplete:function(a){a.target==this.slider&&(a=Q.status(),(a.list!==this.itemsList||a.list===this.itemsList&&this.itemIndex>=a.index)&&Q.init(this.itemsList,this.itemIndex,20),void 0!==this.pageInFocusPrev&&this.pageInFocusPrev.action("removeSubContent"),void 0!==this.zoomingPage&&this.zoomingPage!==this.pageInFocus&&this.zoomingPage.normalize())},mouseWheelHandler:function(a){var b=this,e=0,d=0,c=void 0;b.handlerMWheel=function(a){a.stopPropagation();
var f=new p(0,0);if("deltaX"in a)1===a.deltaMode?(f.x=18*a.deltaX,f.y=18*a.deltaY):(f.x=a.deltaX,f.y=a.deltaY);else if("wheelDelta"in a)a.wheelDeltaX&&(f.x=-.16*a.wheelDeltaX),f.y=a.wheelDeltaY?-.16*a.wheelDeltaY:-.16*a.wheelDelta;else if("detail"in a)f.y=a.detail;else return;var g=b.size.width/2,m=b.size.height/2;a.pageX&&(g=a.pageX,m=a.pageY);g-=b.viewOfsetX;m-=b.viewOfsetY;if(!b.dragging){c!==b.pageInFocus&&(c=void 0);b.zoomingPage&&b.zoomingPage!==b.pageInFocus&&(b.zoomingPage.normalize(),b.zoomingPage=
void 0);c||(b.needHideControlls=b.isControllsShow,c=b.zoomingPage=b.pageInFocus);if(g!=e||m!=d)c.startDrag(new p(g,m)),e=g,d=m;c.zoomByScaleIter(f.y,new p(g,m));c.isInScale?b.showControlls(!1):(b.showControlls(b.needHideControlls),c=void 0)}};return b.handlerMWheel},doubleClickController:function(a){if(!D.ios||"mouseup"!=a.type){var b=void 0,e=void 0;a.changedTouches&&a.changedTouches[0]?(b=a.changedTouches[0].pageX,e=a.changedTouches[0].pageY):(b=a.pageX,e=a.pageY);b-=this.viewOfsetX;e-=this.viewOfsetY;
var d=this.pageInFocus.is_pointInItem(new p(b,e)),c=this;this.firsrTap?(clearTimeout(this.firsrTap),this.firsrTap=void 0,d&&(this.pageInFocus.isInScale?(c.showControlls(c.needHideControlls),this.pageInFocus.normalize(!0),this.zoomingPage=void 0):(this.zoomingPage&&this.zoomingPage.normalize(),this.zoomingPage=this.pageInFocus,this.zoomingPage.zoomIn(.3>Math.abs(this.zoomingPage.imgScale-1)?1.5:this.zoomingPage.imgScale,new p(b,e)),this.zoomingPage.isInScale&&(c.needHideControlls=c.isControllsShow,
c.showControlls(!1))))):this.firsrTap=setTimeout(function(){c.firsrTap=void 0;if(d||A)if(c.pageInFocus.isInScale)c.pageInFocus.normalize(!0),c.showControlls(c.needHideControlls),c.zoomingPage=void 0;else switch(c.pageInFocus.action("click")){case "videoPlay":c.showControlls(!1);c.needHideControlls=!c.isControllsShow;break;case "videoStop":c.switchShowControlls();c.needHideControlls=!c.isControllsShow;break;default:c.switchShowControlls(),c.needHideControlls=!c.isControllsShow}else c.prepareToRemove()},
300)}},startDrag:function(a){function b(a){a.originalEvent&&(a=a.originalEvent);a.preventDefault();if(a.touches)if(!d.dragging&&1<a.touches.length){n=!0;var b=a.touches[0].pageX;var e=a.touches[0].pageY;var c=a.touches[1].pageX;a=a.touches[1].pageY;var f=Math.hypot(b-c,e-a);b+=(c-b)/2;e+=(a-e)/2}else n=!1,b=a.touches[0].pageX,e=a.touches[0].pageY;else b=a.pageX,e=a.pageY;b-=v;e-=u;if(!(D.ios&&20>=g))if(void 0===l&&(e===h?l=!1:(c=180*Math.atan2(Math.abs(e-h),Math.abs(b-g))/Math.PI,l=45<c)),!d.dragging&&
d.zoomingPage){c=4<Math.abs(g-b)?g-b:0;a=4<Math.abs(h-e)?h-e:0;if(c||a)d.zoomingDrag=!0;n?d.pageInFocus.zoomByScaleDeltaToPoint(f,new p(c,a),new p(b,e)):d.zoomingPage&&d.zoomingPage.dragin(new p(c,a))}else if(l){t=0;if(b=4<Math.abs(h-e)?h-e:0)d.dragging=!0;d.scrollViewTranslateY=m-b}else{d.transition=!0;if(b=4<Math.abs(g-b)?g-b:0)d.dragging=!0;d.scrollViewTranslateX=k-b;w=y;y=d.scrollViewTranslateX;t=y-w}}function e(a){a.preventDefault();l=void 0;q()&&(document.removeEventListener("touchmove",b,z),
document.removeEventListener("touchend",e,z));document.removeEventListener("mousemove",b,!1);document.removeEventListener("mouseup",e,!1);document.removeEventListener("oncontextmenu",e,!1);if(d.dragging||n||d.zoomingDrag){if(d.zoomingPage)d.zoomingPage.stopDrag(),n=!1;else if(4>Math.abs(d.scrollViewTranslateY)){a=d.currentItemIndex;var f=q()?7:3;Math.abs(t)>f&&c==d.currentItemIndex&&(a=0<t?a-1:a+1);d.speedX=t;d.scrollViewTranslateY=0;d.gotoPageByIndex(a)}else.2<Math.abs(d.scrollViewTranslateY/(d.size.height/
2))?d.prepareToRemove():d.renderTransformTo(new p(d.scrollViewTranslateX,0));this.dragging=!1}else d.doubleClickController(a);d.zoomingDrag=!1}var d=this,c=void 0,g=void 0,h=void 0,k=void 0,m=void 0,l=void 0,n=void 0,r=void 0,u=d.viewOfsetY,v=d.viewOfsetX,t=0,w=0,y=0;return function(a){d.zoomingPage=d.pageInFocus.isInScale?d.pageInFocus:void 0;x(d.animaSliderRender);c=d.currentItemIndex;a.preventDefault();a.originalEvent&&(a=a.originalEvent);if(!a.button||0===a.button){if(a.touches)if(!d.dragging&&
1<a.touches.length){n=!0;var f=a.touches[0].pageX;var l=a.touches[0].pageY;var ca=a.touches[1].pageX;a=a.touches[1].pageY;r=Math.hypot(f-ca,l-a);f+=(ca-f)/2;l+=(a-l)/2;d.zoomingPage=d.pageInFocus;d.needHideControlls=d.isControllsShow;d.showControlls(!1)}else f=a.touches[0].pageX,l=a.touches[0].pageY;else f=a.pageX,l=a.pageY;f-=v;l-=u;w=t=d.speedX=d.speedY=0;y=d.scrollViewTranslateX;g=f;h=l;k=d.scrollViewTranslateX;m=d.scrollViewTranslateY;d.zoomingPage&&d.zoomingPage.startDrag(new p(g,h),r);q()&&
(document.addEventListener("touchmove",b,z),document.addEventListener("touchend",e,z));document.addEventListener("mousemove",b,!1);document.addEventListener("mouseup",e,!1);document.addEventListener("oncontextmenu",e,!1)}}},audioPlayerHandler:function(a){this.thumbsBar&&this.thumbsBar.changeAudioStatusForIndex(this.itemIndex,a)},createControlls:function(){function a(a){a.style.backgroundColor=c(e.appName).sliderNavigationIconColor;a.childNodes[0].style.stroke=c(e.appName).sliderNavigationColor}function b(a){a.style.backgroundColor=
c(e.appName).sliderNavigationColor;a.childNodes[0].style.stroke=c(e.appName).sliderNavigationIconColor}var e=this;this.prevButton=document.createElement("div");this.prevButton.className="sliderNextPrevButtons";this.prevButton.style.left="0px";this.prevButton.style.transform="translateX(-120%)";this.prevButton.style.backgroundColor=c(this.appName).sliderNavigationColor;this.prevButton.style.visibility="hidden";this.prevButton.innerHTML='<svg height="128px" id="Layer_1" style="enable-background:new 0 0 128 128;" version="1.1" viewBox="0 0 128 128" width="128px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><g><line style="stroke-width:12;stroke-linecap:square;stroke-miterlimit:10;" x1="57.12" x2="17.787" y1="103.334" y2="64"/><line style="stroke-width:12;stroke-linecap:square;stroke-miterlimit:10;" x1="17.787" x2="57.12" y1="64" y2="24.666"/></g><line style="stroke-width:12;stroke-miterlimit:10;" x1="17.787" x2="118.213" y1="64" y2="64"/></g></svg>';
this.prevButton.childNodes[0].style.stroke=c(this.appName).sliderNavigationIconColor;this.prevButton.onmouseover=function(){a(this)};this.prevButton.onmouseout=function(){b(this)};this.prevButton.onclick=function(){e.gotoPrev();D.desktop||b(this)};this.view.appendChild(this.prevButton);this.nextButton=document.createElement("div");this.nextButton.className="sliderNextPrevButtons";this.nextButton.style.backgroundColor=c(this.appName).sliderNavigationColor;this.nextButton.style.right="0px";this.nextButton.style.transform=
"translateX(120%)";this.nextButton.style.visibility="hidden";this.nextButton.innerHTML='<svg height="128px" id="Layer_1" style="enable-background:new 0 0 128 128;" version="1.1" viewBox="0 0 128 128" width="128px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><g><line style="stroke-width:12;stroke-linecap:square;stroke-miterlimit:10;" x1="70.88" x2="110.213" y1="24.666" y2="64"/><line style="stroke-width:12;stroke-linecap:square;stroke-miterlimit:10;" x1="110.213" x2="70.88" y1="64" y2="103.334"/></g><line style="stroke-width:12;stroke-miterlimit:10;" x1="110.213" x2="9.787" y1="64" y2="64"/></g></svg>';
this.nextButton.childNodes[0].style.stroke=c(this.appName).sliderNavigationIconColor;this.nextButton.onmouseover=function(){a(this)};this.nextButton.onmouseout=function(){b(this)};this.nextButton.onclick=function(){e.gotoNext();D.desktop||b(this)};this.view.appendChild(this.nextButton);c(this.appName).sliderThumbBarEnable&&(this.thumbsBar=new X(this),this.footer.appendChild(this.thumbsBar.view));this.view.appendChild(this.footer);this.view.appendChild(this.header);this.infoBox1=document.createElement("div");
this.infoBox1.className="gmInfoBox1";this.header.appendChild(this.infoBox1);var d={};d.backgroundColor=c(this.appName).sliderThumbSubMenuBackgroundColor;d.backgroundColorOver=c(this.appName).sliderThumbSubMenuBackgroundColorOver;d.iconColor=c(this.appName).sliderThumbSubMenuIconColor;d.iconColorOver=c(this.appName).sliderThumbSubMenuIconHoverColor;this.itemMenu=new P(this.delegate,d,!0);this.buttonsBox=document.createElement("div");this.buttonsBox.className="gmInfoBox1";this.buttonsBox.style.float=
"right";this.buttonsBox.appendChild(this.itemMenu.view);this.header.appendChild(this.buttonsBox);this.closeButton=document.createElement("div");this.closeButton.setAttribute("type","close");this.closeButton.className="sliderItemsButtons";this.closeButton.innerHTML='<svg height="512px" id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M437.5,386.6L306.9,256l130.6-130.6c14.1-14.1,14.1-36.8,0-50.9c-14.1-14.1-36.8-14.1-50.9,0L256,205.1L125.4,74.5  c-14.1-14.1-36.8-14.1-50.9,0c-14.1,14.1-14.1,36.8,0,50.9L205.1,256L74.5,386.6c-14.1,14.1-14.1,36.8,0,50.9  c14.1,14.1,36.8,14.1,50.9,0L256,306.9l130.6,130.6c14.1,14.1,36.8,14.1,50.9,0C451.5,423.4,451.5,400.6,437.5,386.6z"/></svg>';
this.closeButton.style.backgroundColor=c(this.appName).sliderNavigationColor;this.closeButton.childNodes[0].style.fill=c(this.appName).sliderNavigationIconColor;this.buttonsBox.appendChild(this.closeButton);this.closeButton.onmouseover=function(){this.style.backgroundColor=c(e.appName).sliderNavigationIconColor;this.childNodes[0].style.fill=c(e.appName).sliderNavigationColor};this.closeButton.onmouseout=function(){this.style.backgroundColor=c(e.appName).sliderNavigationColor;this.childNodes[0].style.fill=
c(e.appName).sliderNavigationIconColor};this.closeButton.addEventListener("click",function(){this.parentNode==e.buttonsBox&&e.prepareToRemove()},!1);A&&(this.infoBox2=document.createElement("div"),this.infoBox2.className="gmInfoBox1",this.infoBox2.style.width="100%",this.footer.appendChild(this.infoBox2),this.header.appendChild(this.buttonsBox),this.buttonsBox.style.float="none",this.infoBox1.style.float="none");this.titleItem=document.createElement("div");this.titleItem.className="gmedia_amron_ColectionSliderItemTitle";
this.titleItem.style.fontSize=c(this.appName).sliderItemTitleFontSize+"px";this.titleItem.style.color=c(this.appName).sliderItemTitleTextColor;A&&(this.titleItem.classList.add("gmedia_amron_ColectionSliderItemTitleMiniScreen"),this.titleItem.style.fontSize="20px",this.titleItem.style.borderBottom="solid 1px "+t(c(this.appName).sliderNavigationIconColor,.3));this.infoBox1.appendChild(this.titleItem);this.titleTerm=document.createElement("div");this.titleTerm.className="gmedia_amron_ColectionSliderItemTitle";
this.titleTerm.style.fontSize=c(this.appName).sliderItemTitleFontSize/2+"px";this.titleTerm.style.color=t(c(this.appName).sliderItemTitleTextColor,.7);this.titleTerm.classList.add("gmedia_amron_ColectionSliderTermTitle");A?(this.titleTerm.classList.add("gmedia_amron_ColectionSliderTermTitleMiniScreen"),this.titleTerm.style.fontSize="15px",this.infoBox2.appendChild(this.titleTerm)):(this.titleTerm.style.fontSize=c(this.appName).sliderItemTitleFontSize/2+"px",this.infoBox1.appendChild(this.titleTerm))},
fullscreenSwitch:function(a){l(this.view)},switchShowControlls:function(){this.showControlls(!this.isControllsShow)},showControlls:function(a,b){this.isControllsShow!=a&&(b?(this.header.classList.add("gmNoneTransition"),this.footer.classList.add("gmNoneTransition"),this.prevButton.classList.add("gmNoneTransition"),this.nextButton.classList.add("gmNoneTransition")):(this.header.classList.remove("gmNoneTransition"),this.footer.classList.remove("gmNoneTransition"),this.prevButton.classList.remove("gmNoneTransition"),
this.nextButton.classList.remove("gmNoneTransition")),a?(this.header.classList.add("gmedia_amron_SlidesHeaderActivate"),this.footer.classList.add("gmedia_amron_SlidesFooterActivate"),this.prevButton.style.transform="translateX(0%)",this.nextButton.style.transform="translateX(0%)"):(this.header.classList.remove("gmedia_amron_SlidesHeaderActivate"),this.footer.classList.remove("gmedia_amron_SlidesFooterActivate"),this.prevButton.style.transform="translateX(-120%)",this.nextButton.style.transform="translateX(120%)"),
this.isControllsShow=a)},updateControlls:function(){3>this.itemsAmount?(this.prevButton.style.visibility=0==this.itemIndex?"hidden":"visible",this.nextButton.style.visibility=this.itemIndex==this.itemsAmount-1?"hidden":"visible",1==this.itemsAmount&&(this.prevButton.style.visibility="hidden",this.nextButton.style.visibility="hidden")):(this.prevButton.style.visibility="visible",this.nextButton.style.visibility="visible");var a=this.itemsList[this.itemIndex];a&&(this.titleItem.innerHTML=a.title?a.title:
"",this.titleTerm.textContent=this.itemIndex+1+" / "+this.itemsAmount,this.itemMenu&&this.itemMenu.updateForItem(a),this.thumbsBar&&this.thumbsBar.selectThumbByIndex(this.itemIndex),this.delegate.modal&&("info"==this.delegate.modal.type?c(this.appName).appEventManager.dispatchGMEvent(new u(n.NEED_MODAL,this,{type:"info",item:a})):this.delegate.modal.prepareToRemove()),this.delegate.viewItem=a)},resizeHandler:function(){var a=this;this.resizeDelay&&clearTimeout(this.resizeDelay);this.resizeDelay=setTimeout(function(){a.size=
new w(a.view.clientWidth,a.view.clientHeight);410>a.size.height&&(a.showControlls(!1,!0),a.needHideControlls=!0);500>a.size.width?(a.prevButton.classList.add("sliderNextPrevButtonsMiniScreen"),a.nextButton.classList.add("sliderNextPrevButtonsMiniScreen")):(a.prevButton.classList.remove("sliderNextPrevButtonsMiniScreen"),a.nextButton.classList.remove("sliderNextPrevButtonsMiniScreen"));a.itemMenu&&a.itemMenu.resizeHandler();for(var b=0;b<a.sliderPages.length;b++)a.sliderPages[b].resize();a.gotoPageByIndex(a.currentItemIndex,
!0);a.thumbsBar&&a.thumbsBar.updateView()},200)}};P.prototype={updateForItem:function(a){this.item=a;this.delegate.likesSet&&this.likeButton&&(this.delegate.likesSet[a.ID]?(this.likeButton.getElementsByTagName("svg")[0].style.fill="red",this.likeButton.style.cursor="default",this.likeButton.style.pointerEvents="none",this.likeButton.setAttribute("like",a.ID)):(this.likeButton.childNodes[0].style.fill=this.iconColor,this.likeButton.style.cursor="pointer",this.likeButton.style.pointerEvents="all",this.likeButton.removeAttribute("like")));
a.link?(this.linkButton.style.display="block",this.linkButton.style.opacity="1",this.linkButton.style.cursor="pointer",this.linkButton.style.pointerEvents="all"):(this.linkButton.style.opacity="0",this.linkButton.style.display="none",this.linkButton.style.cursor="default",this.linkButton.style.pointerEvents="none")},resizeHandler:function(){var a=document.webkitIsFullScreen||document.mozFullScreen||!1;this.fullscreenButton&&(this.fullscreenButton.innerHTML=a?'<svg height="14px" version="1.1" viewBox="0 0 14 14" width="14px" xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" xmlns:xlink="http://www.w3.org/1999/xlink"><g fill-rule="evenodd" stroke="none" stroke-width="1"><g id="Core" transform="translate(-257.000000, -257.000000)"><g id="fullscreen-exit" transform="translate(257.000000, 257.000000)"><path d="M0,11 L3,11 L3,14 L5,14 L5,9 L0,9 L0,11 L0,11 Z M3,3 L0,3 L0,5 L5,5 L5,0 L3,0 L3,3 L3,3 Z M9,14 L11,14 L11,11 L14,11 L14,9 L9,9 L9,14 L9,14 Z M11,3 L11,0 L9,0 L9,5 L14,5 L14,3 L11,3 L11,3 Z" id="Shape"/></g></g></g></svg>':
'<svg height="14px" version="1.1" viewBox="0 0 14 14" width="14px" xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" xmlns:xlink="http://www.w3.org/1999/xlink"><title/><desc/><defs/><g fill-rule="evenodd" id="Page-1" stroke="none" stroke-width="1"><g transform="translate(-215.000000, -257.000000)"><g id="fullscreen" transform="translate(215.000000, 257.000000)"><path d="M2,9 L0,9 L0,14 L5,14 L5,12 L2,12 L2,9 L2,9 Z M0,5 L2,5 L2,2 L5,2 L5,0 L0,0 L0,5 L0,5 Z M12,12 L9,12 L9,14 L14,14 L14,9 L12,9 L12,12 L12,12 Z M9,0 L9,2 L12,2 L12,5 L14,5 L14,0 L9,0 L9,0 Z" id="Shape"/></g></g></g></svg>',
this.fullscreenButton.childNodes[0].style.fill=this.iconColor)}};aa.prototype={init:function(){function a(a){if(c(g.appName).lightBoxEnable)switch(a.type){case "mouseenter":this.classList.add("gmedia_hover");h&&h.classList.add("gmedia_hover");break;case "mouseleave":this.classList.remove("gmedia_hover");h&&h.classList.remove("gmedia_hover");break;case "click":this.classList.remove("gmedia_hover"),h&&h.classList.remove("gmedia_hover"),g.delegate.itemAction(g.index,"lightBox")}}function b(a){a.classList.remove("gmedia_hover");
"like"==a.getAttribute("type")&&a.getAttribute("like")||"bookmark"==a.getAttribute("type")&&a.getAttribute("mark")?a.style.backgroundColor=l:(a.style.backgroundColor=l,a.childNodes[0].style.fill=m)}function e(a){"click"==a.type?d&&(g.delegate.itemAction(g.index,this.getAttribute("type")),A&&b(this)):"mouseenter"==a.type?(this.classList.add("gmedia_hover"),this.style.backgroundColor=p,"bookmark"==this.getAttribute("type")&&this.getAttribute("mark")||(this.childNodes[0].style.fill=q)):"mouseleave"==
a.type&&b(this)}var d=this.delegate.itemsList[this.index];this.item=d;var f=this.delegate.itemWidth;this.type=d.type;this.itemViewSrc=!1;this.img=new Image;var g=this;this.img.onload=function(){this.setAttribute("alt",d.title);1.1<g.view.clientWidth/this.naturalWidth&&d.itemViewSrc&&!g.itemViewSrc&&(this.src=d.itemViewSrc,g.itemViewSrc=!0);g.imageHolder.style.minHeight=null;this.style.opacity="1"};this.imageHolder.appendChild(this.img);if(c(this.appName).lightBoxEnable){var h=document.createElement("div");
h.className="gmedia_imageOver";h.style.backgroundColor=c(this.appName).collectionThumbHoverColor;this.imageHolder.appendChild(h);var k=document.createElement("div");k.className="gmedia_zoom";switch(this.item.type){case "video":"vimeo"==this.item.mime_type.split("/")[1]?(k.classList.add("media"),k.innerHTML='<svg enable-background="new 0 0 56.693 56.693" height="56.693px" id="Layer_1" version="1.1" viewBox="0 0 56.693 56.693" width="56.693px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M3.602,22.974l2.01,2.636c0,0,4.146-3.267,5.528-1.634c1.382,1.634,6.656,21.357,8.417,24.997  c1.537,3.192,5.777,7.413,10.426,4.397c4.646-3.014,20.098-16.205,22.863-31.781c2.764-15.574-18.594-12.313-20.854,1.256  c5.652-3.395,8.671,1.38,5.778,6.784c-2.889,5.399-5.527,8.921-6.908,8.921c-1.379,0-2.441-3.612-4.021-9.928  c-1.635-6.53-1.624-18.291-8.416-16.958C12.019,12.921,3.602,22.974,3.602,22.974z"/></svg>',
k.firstChild.style.fill="#00adef"):(k.classList.add("media"),k.innerHTML='<svg data-name="Layer 21" height="24" id="Layer_21" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><title/><path d="M21.80731,7.805a2.79915,2.79915,0,0,0-2.54907-2.53906C17.69061,5.13586,15.36707,5,12.50012,5c-3.45251,0-6.05865.14105-7.74353.27332A2.79932,2.79932,0,0,0,2.1925,7.815C2.08936,8.90021,2,10.33344,2,12.0423c0,1.66632.08862,3.07422.19128,4.14594a2.79852,2.79852,0,0,0,2.56384,2.53833C6.43994,18.85883,9.04657,19,12.50012,19c2.86694,0,5.19049-.13586,6.75812-.266a2.799,2.799,0,0,0,2.54907-2.539C21.91052,15.11548,22,13.69189,22,12S21.91052,8.88452,21.80731,7.805ZM9.77594,14.93878V9.06122L15.574,12Z"/></svg>',
k.firstChild.style.fill="#e02f2f");break;case "audio":k.classList.add("media");k.innerHTML='<svg version="1.1" viewBox="0 0 58 94" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M37.992,0h-8.021v65.358c-4.435-1.706-10.174-1.73-15.835,0.328C3.994,69.377-2.049,78.355,0.638,85.736   c2.688,7.383,13.088,10.374,23.229,6.683c8.614-3.134,14.249-10.082,14.111-16.626l0.014-53.451   c13.986,2.204,14.943,19.884,13.268,24.842c-0.636,1.879,0.484,3.286,2.598,0C68.938,23.726,37.992,13.376,37.992,0z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>';
k.firstChild.style.fill="#7a7a7a";break;default:k.innerHTML='<svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/></svg>'}this.imageHolder.appendChild(k)}this.imageHolder.addEventListener("mouseenter",a,!1);this.imageHolder.addEventListener("mouseleave",
a,!1);this.imageHolder.addEventListener("click",a,!1);this.img.src=1.1<f/d.itemViewThumbSize.width?d.itemViewSrc:d.itemViewThumbSrc;this.imageRetio=d.itemViewSize.height/d.itemViewSize.width;this.imageHolder.style.minHeight=this.imageRetio*f+"px";f=document.createElement("div");f.className="gmedia_itemContent";f.style.backgroundColor=c(this.appName).collectionThumbContentBGColor;this.view.appendChild(f);k=void 0;c(this.appName).collectionThumbTitleShow&&d.title&&""!=d.title&&(k=document.createElement("div"),
k.className="gmedia_gmedia_itemTitle",k.style.fontSize=c(this.appName).collectionThumbFontSize+"px",k.style.color=c(this.appName).collectionThumbTitleColor,k.innerHTML=d.title,f.appendChild(k));c(this.appName).collectionThumbDescriptionShow&&d.description&&""!=d.description&&(k=document.createElement("div"),k.className="gmedia_itemDescription",k.style.fontSize=c(this.appName).collectionThumbDescriptionFontSize+"px",k.style.color=c(this.appName).collectionThumbDescriptionColor,k.innerHTML=d.description,
f.appendChild(k));k=document.createElement("div");k.className="gmedia_itemMenuHolder";var m=c(this.appName).collectionThumbSubMenuIconColor,l=c(this.appName).collectionThumbSubMenuBackgroundColor,p=c(this.appName).collectionThumbSubMenuBackgroundColorOver,q=c(this.appName).collectionThumbSubMenuIconHoverColor;if(d.link){var n=document.createElement("a");n.className="gmedia_itemReadMore";n.innerHTML=c(this.appName).collectionReadMoreButtonLabel;n.style.backgroundColor=c(this.appName).collectionReadMoreButtonBGColor;
n.style.color=c(this.appName).collectionReadMoreButtonLabelColor;n.setAttribute("target",c(this.appName).linkTargetWindow);n.setAttribute("href",d.link);n.onmouseenter=function(){this.style.backgroundColor=c(g.appName).collectionReadMoreButtonBGColorHover;this.style.color=c(g.appName).collectionReadMoreButtonLabelColorHover};n.onmouseleave=function(){this.style.backgroundColor=c(g.appName).collectionReadMoreButtonBGColor;this.style.color=c(g.appName).collectionReadMoreButtonLabelColor};n.addEventListener("click",
e,!1);k.appendChild(n)}0<k.childNodes.length&&f.appendChild(k)},resize:function(a){return this.view.clientHeight},updateSomeData:function(){},set mark(a){this.bookmarkButton&&(a?(this.bookmarkButton.getElementsByTagName("svg")[0].style.fill="red",this.bookmarkButton.setAttribute("mark","true")):(this.bookmarkButton.getElementsByTagName("svg")[0].style.fill=this.bookmarkButton.classList.contains("gmedia_hover")?c(this.appName).collectionThumbSubMenuIconHoverColor:c(this.appName).collectionThumbSubMenuIconColor,
this.bookmarkButton.removeAttribute("mark")))},get mark(){return this.bookmarkButton?!0:!1},set like(a){this.likeButton&&(a?(this.likeButton.getElementsByTagName("svg")[0].style.fill="red",this.likeButton.style.cursor="default",this.likeButton.style.pointerEvents="none",this.likeButton.setAttribute("like","true")):(this.likeButton.childNodes[0].style.fill=this.iconColor,this.likeButton.style.cursor="pointer",this.likeButton.style.pointerEvents="all",this.likeButton.removeAttribute("like")))},get like(){return this.likeButton?
!0:!1},set visibility(a){this.view.style.visibility=a},set display(a){"none"==a&&clearTimeout(this.opacityDelay);this._display=this.view.style.display=a;this.updateSomeData()},get display(){return this._display},set opacity(a){var b=this;a.delay?this.opacityDelay=setTimeout(function(){b.view.style.opacity=a.opacity},a.delay):(clearTimeout(this.opacityDelay),b.view.style.opacity=a.opacity)}};J.prototype={startRequest:function(){this.showPreloader(!0)},showPreloader:function(a){var b=void 0;if(a)0<
this.view.getElementsByClassName("gmedia_amron_Preloader").length||(b=L(t(c(this.appName).collectionPreloaderColor,.7)),this.view.appendChild(b));else if(this.view.getElementsByClassName("gmedia_amron_Preloader")[0]){var e=this;b=this.view.getElementsByClassName("gmedia_amron_Preloader")[0];S(b,function(){e.view&&e.view.removeChild(b)},500)}},init:function(){this.startRequest();H(JSON.stringify({library:this.query}),this,n.COLLECTION_DATA_REDY)},dataLoaded:function(a){if(a=a.params.data){try{var b=
JSON.parse(a);b.data&&(this.addItemsToCollection(b.data),this.trySortItemsByTerms());c(this.appName).lightBoxEnable&&this.delegate.startId&&this.tryOpenLightboxForID(this.delegate.startId)}catch(e){T(e)}this.showPreloader(!1);this.itemsList&&this.updateViewByData()}},tryOpenLightboxForID:function(a){for(var b=0;b<this.filteredCollection.length;b++)a==this.filteredCollection[b].ID&&(c(this.appName).appEventManager.dispatchGMEvent(new u(n.NEED_LIGHTBOX,this,{collection:this,index:b})),b=this.filteredCollection.length)},
createTermsCollectionAndUpdateProperties:function(a){function b(a){var b={},c;for(c in a){var f=new E(a[c],e.appName);b[f.term_id]=f;f.itemsList=[];if(e.itemsList)for(var g=0;g<e.itemsList.length;g++){var l=e.itemsList[g];if(l[f.taxonomy_type]){var n=l[f.taxonomy_type],p;for(p in n)n[p].term_id==f.term_id&&(f.itemsList.push(l),d.push(l),e.itemsList.splice(g,1),--g)}}}return b}this.properties||(this.properties={});var e=this,d=[];this.terms=[];for(var c in a)"album__in"==c||"category__in"==c||"tag__in"==
c?this.terms.push(b(a[c])):this.properties[c]=a[c];this.itemsList=d.concat(this.itemsList)},addItemsToCollection:function(a){for(var b=0;b<a.length;b++){var e=new M(a[b],this.appName);e.index=this.itemsList.length+b;this.itemsList.push(e)}},trySortItemsByTerms:function(){this.queryTermsList=E.termsListFromAppQuery(this.query);if(this.itemsList&&this.queryTermsList){for(var a=[],b=0;b<this.queryTermsList.length;b++)for(var e=this.queryTermsList[b],c=0;c<this.itemsList.length;c++){var f=this.itemsList[c];
if(f[e.taxonomy_type]){var g=f[e.taxonomy_type],h;for(h in g)g[h].term_id==e.term_id&&(a.push(f),this.itemsList.splice(c,1),--c)}}this.itemsList=a.concat(this.itemsList)}},itemAction:function(a,b){if(!this.dragging){var e=this.filteredCollection[a];switch(b){case "lightBox":c(this.appName).appEventManager.dispatchGMEvent(new u(n.NEED_LIGHTBOX,this,{collection:this,index:a}));break;case "share":c(this.appName).appEventManager.dispatchGMEvent(new u(n.NEED_MODAL,self,{type:"share",item:e}));break;case "link":e.link&&
window.open(e.link,c(this.appName).linkTargetWindow);break;case "coments":window.open(e.sharelink+"/#comments",c(this.appName).linkTargetWindow);break;case "like":this.delegate.likeItem=e;break;case "bookmark":this.delegate.bookmarkItem=e}}},refteshDataInItem:function(){for(var a=0;a<this.filteredCollection.length;a++)this.filteredCollection[a].view.updateSomeData()},activate:function(){this.updateLayout();(this.scrollHandler=this.scrollHandlerFunction())&&window.addEventListener("scroll",this.scrollHandler,
!1)},deactivate:function(){c(this.appName).appEventManager.removeGMEventListener(n.COLLECTION_DATA_REDY,this,"dataLoaded");window.removeEventListener("scroll",this.scrollHandler,!1);this.scrollHandler=void 0;this.removePresentedItems()},removeItemViewFormStage:function(){this.removePresentedItems();this.presentedList=[];this.cureantPage=void 0},removePresentedItems:function(){for(var a=0;a<this.presentedList.length;a++)this.presentedList[a].display="none"},showPresentedItems:function(){for(var a=
0;a<this.presentedList.length;a++)this.presentedList[a].display="block"},createLayout:function(){this.scrollHandler||(this.scrollHandler=this.scrollHandlerFunction())&&window.addEventListener("scroll",this.scrollHandler,!1);this.page_Amount=Math.min(10,this.filteredCollection.length)},updateLayout:function(){},scrollHandlerFunction:function(){return!1},resize:function(){var a=this;clearTimeout(this.resizeTimeOut);q()?this.resizeTimeOut=setTimeout(function(){a.resizeDelay()},150):this.resizeDelay()},
resizeDelay:function(){this.viewWidth!=this.view.clientWidth&&(this.updateLayout(),this.viewWidth=this.view.clientWidth)},get filteredCollection(){return 0<this.filteredList.length?this.filteredList:this.itemsList}};K.prototype=Object.create(J.prototype,{updateViewByData:{value:function(){if(this.itemsList)for(var a=0;a<this.itemsList.length;a++){var b=new aa(this,a);this.itemsList[a].view=b;b.init()}this.createLayout()}},createLayout:{value:function(){J.prototype.createLayout.apply(this,arguments);
this.createColumns();this.addPageToStage()}},updateLayout:{value:function(){if(0==this.createColumns())this.presentedList&&this.presentedList[0]&&"none"==this.presentedList[0].display&&this.showPresentedItems();else{this.removePresentedItems();for(var a=0;a<this.presentedList.length;a++)this.arangeItemToColum(this.presentedList[a])}}},createColumns:{value:function(){var a=Math.floor(this.content.clientWidth/Math.min(this.content.clientWidth,c(this.appName).collectionThumbRecomendedWidth));if(this.columnsArr.length!=
a){for(var b=0;b<this.columnsArr.length;b++)this.content.removeChild(this.columnsArr[b]);this.columnsArr=[];for(b=0;b<a;b++){var e=document.createElement("div");e.className="collectionColumn";e.style.width=100/a+"%";this.columnsArr.push(e);this.content.appendChild(e)}return!0}return!1}},bottomSpace:{get:function(){return this.content.getBoundingClientRect().bottom-window.innerHeight}},scrollHandlerFunction:{value:function(a){var b=this;return function(){200>b.bottomSpace&&b.addPageToStage()}}},addPageToStage:{value:function(){void 0===
this.cureantPage&&(this.cureantPage=0);clearTimeout(this.layoutSizerDelay);if(!(this.cureantPage>=Math.ceil(this.filteredCollection.length/this.page_Amount))){for(var a=this.cureantPage*this.page_Amount,b=Math.min(a+this.page_Amount,this.filteredCollection.length),c=1;a<b;a++){var d=this.filteredCollection[a].view;d.index=a;d.opacity={opacity:0,delay:0};this.addItemToStage(d);d.opacity={opacity:1,delay:100*c};c+=1}this.cureantPage+=1;var f=this;this.layoutSizerDelay=setTimeout(function(){200>f.bottomSpace&&
f.addPageToStage()},1E3)}}},getColumWithMinHeight:{value:function(){for(var a=this.columnsArr[0].clientHeight,b=0,c=1;c<this.columnsArr.length;c++)a!=Math.min(a,this.columnsArr[c].clientHeight)&&(a=Math.min(a,this.columnsArr[c].clientHeight),b=c);return b}},arangeItemToColum:{value:function(a){var b=a.view;this.columnsArr[this.getColumWithMinHeight()].appendChild(b);a.display="block"}},addItemToStage:{value:function(a){this.arangeItemToColum(a);this.presentedList.push(a)}},itemWidth:{get:function(){var a=
Math.floor(this.content.clientWidth/c(this.appName).collectionThumbRecomendedWidth);return this.content.clientWidth/a}}});K.prototype.constructor=K;ba.prototype={get itemFromHash(){var a=window.location.hash.indexOf(this.appName),b=void 0;a+1&&(b=2<=window.location.hash.substr(a).split("-").length?parseInt(window.location.hash.substr(a).split("-")[1]):void 0);return b},addCollectioByQuery:function(a){var b=0;this.modal&&(this.modal.prepareToRemove(),b=500);this.slider&&(this.slider.prepareToRemove(),
b=500);if(0<this.collections.length&&this.collections[this.collections.length-1]){var c=this.collections[this.collections.length-1];c.deactivate();c.view.parentNode&&this.appDiv.removeChild(c.view)}document.body.scrollTop>this.appDiv.getBoundingClientRect().top&&(c=document.body.getBoundingClientRect(),c=this.appDiv.getBoundingClientRect().top-c.top-(q()?0:50),ea(c,500));var d=this;!a.s&&this.searchForm&&this.searchForm.clear();setTimeout(function(){var b=new K(d,d.appName,a);d.collections.push(b);
d.appDiv.appendChild(b.view);b.init()},b)},pushNewCollectionByTerm:function(a){if(a.params||a.params.term)a=a.params.term,a.sharelink&&window.open(a.sharelink,"_self")},termLinkForTerm:function(a,b){return c(this.appName).post_url+"/?"+c(this.appName).galleryID+"["+b+"]="+a},pushNewCollectionByTermID:function(a){if(a.params||a.params.term_id||!a.params.taxonomy)a=this.termLinkForTerm(a.params.term_id,a.params.taxonomy),window.open(a,"_self")},set likeItem(a){a&&(a.meta.likes||(a.meta.likes=0),a.meta.likes=
parseInt(a.meta.likes)+1,a.view&&a.view.like&&(a.view.like=!0),a=a.ID,this.likesSet[a]||(this.likesSet[a]="like",this.viewsSet[a]&&delete this.viewsSet[a],a=JSON.stringify({counter:{likes:[a],views:[a]}}),H(a,this,n.COUNTERS_UPDATED),window.localStorage.setItem("gm_likesSet",JSON.stringify(this.likesSet))))},set viewItem(a){var b=a.ID;this.updateItemLink(a);this.viewsSet[b]="view"},itemsCountersUpdate:function(){if(this.viewsSet){var a=[];for(key in this.viewsSet)a.push(key);0<a.length&&(a=JSON.stringify({counter:{likes:[],
views:a}}),H(a,this,n.COUNTERS_UPDATED),this.viewsSet={})}},itemsCountersUpdateHandler:function(a){window.localStorage.setItem("gm_likesSet",JSON.stringify(this.likesSet))},createLightbox:function(a){if(a.params||a.params.collection){var b=a.params.collection;a=a.params.index;this.slider&&this.slider.prepareToRemove();window.localStorage.getItem("gm_likesSet")&&(this.likesSet=JSON.parse(window.localStorage.getItem("gm_likesSet")));this.slider=new Z(this);this.slider.initByList(b.filteredCollection,
a);this.currentLocation=this.itemFromHash?window.location.href.substr(0,window.location.href.indexOf("#")):window.location.href;window.history.pushState(null,null,window.location.href)}},updateItemLink:function(a){window.history.replaceState(null,null,"#"+this.appName+"-"+a.ID)},removeLightbox:function(a){var b=this,c=a.target;setTimeout(function(){c.view&&c.view.parentNode&&c.view.parentNode.removeChild(c.view);b.slider&&(b.slider=void 0)},400);this.currentLocation==window.location.href?window.history.replaceState(null,
null,this.currentLocation):window.history.back()},createModal:function(a){if(a.params.type&&a.params.item)switch(a.params.type){case "share":this.modal||(this.modal=new N(this));this.modal.type=a.params.type;a=a.params.item;a=new ha(this.appName,this.modal,a,a.sharelink);this.modal.pushPage(a);break;case "info":this.modal||(this.modal=new N(this)),this.modal.type=a.params.type,a=a.params.item,a=new fa(this.appName,this.modal,a),this.modal.pushPage(a)}},deleteModal:function(){this.modal&&delete this.modal},
windowResizeHandler:function(a){this.bookmarkBox&&this.collectionTranslateY!=this.bookmarkBox.height&&(this.collectionTranslateY=this.bookmarkBox.height,this.showBookmarkInfo(this.bookmarkStatusShow));0<this.collections.length&&this.collections[this.collections.length-1].resize();this.slider&&this.slider.resizeHandler()},createAudioPlayer:function(){var a=this;var b=document.getElementById("gmAudioPlayer")?document.getElementById("gmAudioPlayer"):new Audio;if(null!=b&&b.canPlayType&&b.canPlayType("audio/mpeg")){var c=
function(b){a.slider&&a.slider.audioPlayerHandler(b)};b.id="gmAudioPlayer";b.setAttribute("type","audio/mpeg");b.setAttribute("codecs","mp3");this.audioPlayer=b;this.appDiv.appendChild(this.audioPlayer);b.addEventListener("ended",c,!1);b.addEventListener("pause",c,!1);b.addEventListener("play",c,!1);b.addEventListener("durationchange",c,!1)}}};(function(){var a=function(b){window.removeEventListener("mousedown",a,!1);window.removeEventListener("touchstart",a,!1);"touchstart"==b.type?(b.stopPropagation(),
I=!1):I=!0};window.addEventListener("mousedown",a,!1);window.addEventListener("touchstart",a,!1);A=500>window.screen.height||500>window.screen.width;for(var b=document.body.getElementsByClassName("amron_module"),c=0;c<b.length;c++){var d=b[c].id;this[d]=new ba(this[d],d,b[c])}})()}amron_module();
